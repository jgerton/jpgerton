---
phase: 14-performance-accessibility-validation
plan: 04
type: execute
wave: 3
depends_on: ["14-02", "14-03"]
files_modified:
  - app/(home)/page.tsx
  - app/services/page.tsx
  - app/about/page.tsx
  - app/contact/page.tsx
  - app/projects/page.tsx
  - app/globals.css
  - components/portfolio/sections/hero-with-gradient.tsx
autonomous: false

must_haves:
  truths:
    - "Site renders correctly at 375px, 768px, and 1024px breakpoints"
    - "No horizontal scrolling or overflow at any breakpoint"
    - "Text remains readable and touch targets accessible at 375px"
    - "Lighthouse Performance score is 85+ on every public page"
    - "Lighthouse Accessibility score is 85+ on every public page"
    - "Lighthouse SEO score is 85+ on every public page"
    - "LCP < 2.5s, CLS < 0.1, INP < 200ms (replacing FID per March 2024 change)"
  artifacts:
    - path: ".planning/phases/14-performance-accessibility-validation/14-04-audit-results.md"
      provides: "Responsive testing results, Lighthouse scores, Core Web Vitals"
  key_links:
    - from: "Lighthouse audit results"
      to: "code fixes"
      via: "score analysis and targeted optimization"
      pattern: "performance|accessibility|seo"
---

<objective>
Perform responsive testing at three breakpoints, run Lighthouse audits for performance/accessibility/SEO scores, verify Core Web Vitals are within budget, and get user sign-off on the final state of the site.

Purpose: Final validation that all Phases 8-13 design polish work plus Phase 14 fixes result in a site that performs well (85+ Lighthouse), renders correctly on mobile, and meets Core Web Vitals budgets. This is the last phase of v1.1 - ship clean.

Output: Responsive rendering verified, Lighthouse scores documented and passing, Core Web Vitals within budget, user-approved final state.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-performance-accessibility-validation/14-CONTEXT.md
@.planning/phases/14-performance-accessibility-validation/14-RESEARCH.md
@.planning/phases/14-performance-accessibility-validation/14-01-SUMMARY.md
@.planning/phases/14-performance-accessibility-validation/14-02-SUMMARY.md
@.planning/phases/14-performance-accessibility-validation/14-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Responsive testing and performance validation</name>
  <files>
    app/(home)/page.tsx
    app/services/page.tsx
    app/about/page.tsx
    app/contact/page.tsx
    app/projects/page.tsx
    app/globals.css
    components/portfolio/sections/hero-with-gradient.tsx
    .planning/phases/14-performance-accessibility-validation/14-04-audit-results.md
  </files>
  <action>
    **Part 1: Responsive Testing**

    Use Chrome extension to test each page at three breakpoints. For each page and breakpoint:
    1. `/chrome navigate http://localhost:3400{path}`
    2. Use Chrome DevTools responsive mode (Ctrl+Shift+M) to set viewport
    3. `/chrome screenshot` to capture rendering

    Breakpoints (per CONTEXT.md decision):
    - 375px width (iPhone SE / small phone)
    - 768px width (iPad / tablet)
    - 1024px width (small laptop)

    For each page at each breakpoint, check:
    - No horizontal scrollbar or content overflow
    - Text is readable (not too small, not truncated)
    - Images scale properly (not stretched, not overflowing)
    - Navigation works (hamburger on mobile, full nav on desktop)
    - Grid layouts collapse to single column on mobile
    - Cards stack vertically on mobile
    - Touch targets are accessible (not overlapping)
    - Hero section adapts (fluid type scaling working)
    - CTA buttons are full-width or prominent on mobile

    Pages to test:
    - / (home) - most complex: hero, services grid, projects grid, testimonials, CTA banner
    - /services - pricing cards, FAQ, trust metrics
    - /about - process steps (4-col on desktop, stacked on mobile), values, prose
    - /contact - form + booking card side-by-side on desktop, stacked on mobile
    - /projects - filter bar + grid

    **Fix any responsive issues found:**
    - Overflow: add `overflow-hidden` on parent or fix width calculations
    - Text too small: verify fluid type tokens scale properly at 375px
    - Grid not collapsing: verify responsive grid classes (grid-cols-1 md:grid-cols-3 etc.)
    - Spacing too large on mobile: verify responsive padding/gap

    **Part 2: Image Optimization Spot-Check**

    Check hero and above-the-fold images for the `priority` prop:
    - Home page HeroWithGradient: no image (CSS gradient only) - no action needed
    - Project detail page hero image: already has `priority` prop (verified in codebase scan) - good
    - Check if any new images were added in Phases 11-13 that are above the fold

    **Part 3: Lighthouse Audit**

    Run Lighthouse via Chrome DevTools on each public page (both mobile and desktop modes).
    The dev server at localhost:3400 may not give production-accurate performance scores (Docker overhead, dev mode).

    Do a production build first:
    ```
    cd E:/Projects/wp-designer && bun run build
    ```

    If the build succeeds, the CI/CD and Vercel deployment will produce accurate scores. For this local audit:
    - Run Lighthouse in Chrome DevTools on the built site if possible
    - Or use the dev server as a baseline, knowing scores will be higher in production

    For each page, record:
    - Performance score (target: 85+)
    - Accessibility score (target: 85+)
    - Best Practices score (target: 85+)
    - SEO score (target: 85+)

    **Part 4: Core Web Vitals Check**

    Check the browser console for Web Vitals logging (the WebVitals component logs in dev mode):
    - LCP (Largest Contentful Paint): target < 2.5s
    - CLS (Cumulative Layout Shift): target < 0.1
    - INP (Interaction to Next Paint): target < 200ms (note: INP replaced FID in March 2024)

    Navigate to each page and interact (click links, scroll) to trigger INP measurement.

    **If scores are below 85:**
    - Performance < 85: Check LCP element (likely hero), check for render-blocking resources, check image sizes. Fix if possible without degrading design.
    - Accessibility < 85: Should be addressed by Plans 01-03. If still below, investigate remaining automated violations.
    - SEO < 85: Check metadata, heading structure, canonical URLs. Most SEO was set up in Phase 5.
    - Best Practices < 85: Check for console errors, deprecated APIs, HTTPS issues.

    Per CONTEXT.md: "Design polish is the priority. Protect design over performance scores." Only investigate/fix if below 85. Above 85, design wins.

    Document all results in 14-04-audit-results.md with:
    - Responsive test results (per page, per breakpoint)
    - Lighthouse score table (per page, per category)
    - Core Web Vitals measurements
    - Issues found and fixes applied
    - Final recommendation (ship or needs more work)
  </action>
  <verify>
    `bun run build` passes.
    14-04-audit-results.md contains responsive, Lighthouse, and CWV results for all pages.
    No critical responsive layout breaks at any of the three breakpoints.
  </verify>
  <done>
    All pages render correctly at 375px, 768px, and 1024px. Lighthouse scores documented (targeting 85+ in all categories). Core Web Vitals measured and within budget. Any layout or performance issues fixed. Results documented.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 14 validation suite: WCAG AA accessibility audit (Plan 01), keyboard navigation and touch targets (Plan 02), dark mode contrast and Safari compatibility (Plan 03), and responsive/performance testing (Plan 04). All identified issues have been fixed. This represents the final quality gate for v1.1 Design Polish.
  </what-built>
  <how-to-verify>
    1. Review the audit results documents:
       - `.planning/phases/14-performance-accessibility-validation/14-01-audit-results.md` (WCAG audit)
       - `.planning/phases/14-performance-accessibility-validation/14-02-audit-results.md` (keyboard/touch)
       - `.planning/phases/14-performance-accessibility-validation/14-03-audit-results.md` (dark mode/Safari)
       - `.planning/phases/14-performance-accessibility-validation/14-04-audit-results.md` (responsive/Lighthouse)

    2. Quick visual check in browser (http://localhost:3400):
       - Toggle dark mode - verify warm blue-gray aesthetic preserved
       - Resize browser to phone width (375px) - verify no horizontal scroll
       - Tab through the page - verify visible focus ring on every element
       - Click hamburger on mobile - verify menu opens with focus inside

    3. Review Lighthouse scores - confirm 85+ in all categories

    4. Confirm: is v1.1 Design Polish ready to ship?
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 14 and v1.1, or describe any issues that need fixing</resume-signal>
</task>

</tasks>

<verification>
- All 5 public pages render without layout breaks at 375px, 768px, 1024px
- No horizontal scrollbar at any breakpoint
- Lighthouse scores 85+ in Performance, Accessibility, Best Practices, SEO
- Core Web Vitals: LCP < 2.5s, CLS < 0.1, INP < 200ms
- User approves final state of v1.1
</verification>

<success_criteria>
- Responsive rendering verified at all three breakpoints for all public pages
- Lighthouse scores documented and meeting 85+ threshold
- Core Web Vitals within Google "good" thresholds
- User sign-off on v1.1 Design Polish as ready to ship
- All audit documentation complete
</success_criteria>

<output>
After completion, create `.planning/phases/14-performance-accessibility-validation/14-04-SUMMARY.md`
</output>
