---
phase: 06-wordpress-delivery-system
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/wordpress-delivery/03-staging-setup-guide.md
  - docs/wordpress-delivery/templates/staging-checklist.md
autonomous: true

must_haves:
  truths:
    - "Jon can spin up a new client staging site in under 30 minutes"
    - "Staging sites are protected from indexing and public access"
    - "Migration process from staging to production is documented"
    - "Staging cleanup schedule prevents accumulation of old sites"
  artifacts:
    - path: "docs/wordpress-delivery/03-staging-setup-guide.md"
      provides: "Complete staging and migration documentation"
      contains: "Duplicator"
    - path: "docs/wordpress-delivery/templates/staging-checklist.md"
      provides: "Quick-reference staging setup checklist"
      contains: "noindex"
  key_links:
    - from: "docs/wordpress-delivery/03-staging-setup-guide.md"
      to: "WPDEL-03 requirement"
      via: "Documents local staging setup enabling spin-up in under 30 minutes"
---

<objective>
Create the Staging Setup Guide documenting how to spin up client staging sites on staging.jongerton.com and migrate to production using Duplicator.

Purpose: Jon builds all sites on his controlled staging environment, then migrates to client hosting at launch. This guide ensures consistent staging setup and reliable migration every time.

Output: `docs/wordpress-delivery/03-staging-setup-guide.md` with full staging and migration process, and `docs/wordpress-delivery/templates/staging-checklist.md` for quick reference.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-wordpress-delivery-system/06-CONTEXT.md
@.planning/phases/06-wordpress-delivery-system/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write Staging Setup Guide</name>
  <files>docs/wordpress-delivery/03-staging-setup-guide.md</files>
  <action>
Create comprehensive staging and migration documentation covering:

**1. Staging Environment Overview**
- Build on staging.jongerton.com (Jon's controlled environment)
- Subdomain pattern: `staging-[clientname].jongerton.com`
- Client gets preview link during development
- Migration to client hosting at launch

**2. Creating a New Staging Site**

Step-by-step process:
1. Create subdomain in hosting panel (e.g., staging-acmeplumbing.jongerton.com)
2. Install WordPress via hosting one-click installer
3. Log in and immediately:
   - Install Kadence theme + activate
   - Install all plugins from Starter Template Guide
   - Set Reading > Search Engine Visibility > Discourage search engines (noindex)
   - Consider adding password protection or coming soon page

**3. Staging Protection Requirements**
- noindex meta tag (WordPress built-in + Rank Math double-check)
- Password protection options:
  - Simple: WP Staging plugin (auto-adds noindex AND password)
  - Alternative: Passster or Password Protected plugins
  - Basic: .htpasswd if comfortable with hosting
- Why both: noindex prevents Google, password prevents prying eyes

**4. Migration Process (Staging to Production)**

Using Duplicator (Free):
1. Install Duplicator plugin on staging site
2. Create new package (Duplicator > Packages > Create New)
3. Scan completes, click Build
4. Download both files:
   - `archive.zip` (site files + database)
   - `installer.php` (migration wizard)
5. Upload BOTH files to client hosting root directory (empty, no WordPress installed)
6. Navigate to `clientdomain.com/installer.php`
7. Follow wizard:
   - Database connection (create new DB on client hosting first)
   - URL replacement (Duplicator handles automatically)
   - Admin login update (optional)
8. Test site at client domain
9. Delete installer.php and archive files from client server
10. Re-save permalinks in WordPress admin (Settings > Permalinks > Save)
11. Verify SSL certificate active

**5. Common Migration Issues & Fixes**
- Mixed content warnings: Use Better Search Replace to fix any remaining http:// references
- Broken images: Check Media > Library, may need to regenerate thumbnails
- Permalinks 404: Re-save permalinks fixes 99% of cases
- CSS not loading: Clear any caching plugins, check SSL

**6. Staging Site Cleanup Schedule**
- Keep staging site active for 30 days post-launch (matches warranty period)
- Archive staging content after 30 days (export via Duplicator, store locally)
- Delete subdomain after archival
- Maintain log of archived projects

**7. Why Duplicator Over All-in-One WP Migration**
- Empty server deploy supported (no WordPress needed on destination)
- Works without dashboard access for disaster recovery
- More control over database replacement
- Free version handles sites under 500MB easily

Include troubleshooting section for common issues.
  </action>
  <verify>File contains: subdomain pattern, step-by-step staging creation, protection requirements, full Duplicator migration process, cleanup schedule</verify>
  <done>Staging Setup Guide documents complete staging creation, protection, migration, and cleanup process</done>
</task>

<task type="auto">
  <name>Task 2: Create Staging Checklist Template</name>
  <files>docs/wordpress-delivery/templates/staging-checklist.md</files>
  <action>
Create a quick-reference checklist Jon can use for each new project:

**New Staging Site Checklist**

```markdown
## Client: _______________
## Subdomain: staging-_______________.jongerton.com
## Date Created: _______________

### Setup (< 30 min target)
- [ ] Create subdomain in hosting panel
- [ ] Install WordPress via one-click
- [ ] Log in to wp-admin

### Theme & Plugins
- [ ] Install Kadence theme
- [ ] Activate Kadence
- [ ] Install Kadence Blocks
- [ ] Install Wordfence
- [ ] Install UpdraftPlus
- [ ] Install Rank Math
- [ ] Install WP Mail SMTP
- [ ] Install Site Kit by Google

### Protection
- [ ] Settings > Reading > Discourage search engines = CHECKED
- [ ] Rank Math > General Settings > noindex = ON
- [ ] Password protection active (method: _______)

### Client Preview Link
- URL: _______________
- Password: _______________

### Migration (at launch)
- [ ] Duplicator package created
- [ ] Files uploaded to client hosting
- [ ] installer.php completed
- [ ] Permalinks re-saved
- [ ] SSL verified
- [ ] installer files deleted

### Cleanup (30 days post-launch)
- [ ] Site archived (Duplicator export)
- [ ] Archive stored locally
- [ ] Subdomain deleted
```

Format as a printable/copyable template.
  </action>
  <verify>Checklist includes: setup steps, plugin list, protection checks, migration steps, cleanup items</verify>
  <done>Staging checklist provides quick-reference for consistent project setup</done>
</task>

</tasks>

<verification>
- [ ] 03-staging-setup-guide.md exists with complete documentation
- [ ] templates/staging-checklist.md exists as quick reference
- [ ] Staging creation documented with 30-minute target
- [ ] noindex and password protection both covered
- [ ] Full Duplicator migration process documented
- [ ] 30-day cleanup schedule documented
</verification>

<success_criteria>
- Jon can create a new staging site in under 30 minutes following this guide
- Migration process is reliable and documented step-by-step
- All WPDEL-03 requirement components are addressed
</success_criteria>

<output>
After completion, create `.planning/phases/06-wordpress-delivery-system/06-03-SUMMARY.md`
</output>
