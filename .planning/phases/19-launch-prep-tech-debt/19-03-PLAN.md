---
phase: 19-launch-prep-tech-debt
plan: 03
type: execute
wave: 2
depends_on: ["19-01", "19-02"]
files_modified:
  - components/portfolio/hero-section.tsx
  - components/portfolio/index.ts
autonomous: false

must_haves:
  truths:
    - "Orphaned HeroSection component is deleted from codebase"
    - "Barrel export in components/portfolio/index.ts does not reference hero-section"
    - "No imports of HeroSection remain in any source file"
    - "Site passes build with no errors after cleanup"
    - "Lighthouse SEO audit scores 95+ on production"
  artifacts:
    - path: "components/portfolio/index.ts"
      provides: "Updated barrel export without HeroSection"
      min_lines: 20
  key_links:
    - from: "components/portfolio/index.ts"
      to: "components/portfolio/hero-section.tsx"
      via: "export removed (file deleted)"
      pattern: "HeroSection.*SHOULD NOT EXIST"
---

<objective>
Clean up technical debt (orphaned components) and verify the site is production-ready with a Lighthouse SEO audit.

Purpose: Remove dead code identified in v1.1 audit (HeroSection), do a light scan for other orphans, and verify the complete launch readiness of the site via build + Lighthouse.

Output: Cleaned codebase, passing build, Lighthouse SEO verification
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-launch-prep-tech-debt/19-CONTEXT.md
@components/portfolio/index.ts
@components/portfolio/hero-section.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete orphaned HeroSection and clean up barrel export</name>
  <files>components/portfolio/hero-section.tsx, components/portfolio/index.ts</files>
  <action>
1. Delete `components/portfolio/hero-section.tsx` entirely.

2. Update `components/portfolio/index.ts`:
   - Remove the line: `export { HeroSection } from "./hero-section";`
   - Keep all other exports unchanged
   - Preserve the comment block at the top documenting component language conventions

3. Search the codebase for any remaining imports of HeroSection from source files (not .planning docs):
   - `grep -r "HeroSection" --include="*.tsx" --include="*.ts" app/ components/ lib/ hooks/`
   - If any imports remain, remove them (there should be none based on earlier analysis)

4. Light orphan scan - check for other obviously unused components:
   - Look for any component files in `components/` that are not imported anywhere in `app/` or other `components/`
   - Only flag truly obvious orphans (files with zero imports). Do NOT delete anything uncertain.
   - If additional orphans found, delete them and clean their barrel exports. If none found, that is the expected outcome.

5. Run `bun run type-check` and `bun run build` to confirm everything compiles after cleanup.
  </action>
  <verify>
Run `bun run type-check` passes. Run `bun run build` succeeds. Grep for "HeroSection" in source files returns zero matches (excluding .planning docs). Grep for "hero-section" in source files returns zero matches.
  </verify>
  <done>
HeroSection component deleted. Barrel export cleaned. No remaining references in source code. Build passes.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Phase 19 launch prep:
- Default OG image (1200x630) at app/opengraph-image.tsx with "Jon Gerton", "Custom Websites for $500", jpgerton.com
- GA4 custom event tracking on CTAButton, CalendlyButton, ContactForm
- Blog engagement tracking: category filter clicks on /blog, read-complete sentinel on /blog/[slug]
- Robots.txt updated (only /admin/ blocked)
- Layout metadata cleaned (no static OG image references)
- Orphaned HeroSection deleted
- All builds passing
  </what-built>
  <how-to-verify>
1. Start the dev server: `docker compose up`
2. Visit http://localhost:3400/opengraph-image to preview the default OG image
   - Should show "Jon Gerton", "Custom Websites for $500", "jpgerton.com" on a blue gradient
3. Visit http://localhost:3400/robots.txt
   - Should disallow only /admin/, allow everything else, include sitemap reference
4. Open browser DevTools Console on any page:
   - Click a CTA button - if GA_ID is set, should see gtag event in Network tab
   - If GA_ID is not set, no errors should appear (graceful no-op)
5. Visit http://localhost:3400/blog and click a category filter tab:
   - If GA_ID is set, should see blog_category_filter event in Network tab
   - Category filter should still work normally (filtering posts)
6. Visit a blog post and scroll to the bottom:
   - If GA_ID is set, should see blog_read_complete event when article end is reached
   - No visible UI change from the sentinel element (it should be invisible)
7. Verify the site loads correctly on http://localhost:3400 (no visual regressions)
8. Optional: Run Lighthouse SEO audit on the home page (should score 95+, likely 100 given existing Core Web Vitals)

Type "approved" if everything looks good, or describe any issues.
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues</resume-signal>
</task>

</tasks>

<verification>
1. `bun run type-check` passes
2. `bun run build` succeeds
3. `components/portfolio/hero-section.tsx` does not exist
4. `components/portfolio/index.ts` does not reference HeroSection
5. No source files import HeroSection
6. Default OG image is accessible at /opengraph-image route
7. robots.txt shows correct disallow rules
8. Lighthouse SEO score >= 95
</verification>

<success_criteria>
- All technical debt items resolved (HeroSection deleted, barrel cleaned)
- Build passes with zero errors
- User verifies OG image appearance, robots.txt content, blog engagement tracking, and overall site health
- Phase 19 success criteria from roadmap met:
  1. Default OG image (1200x630) appears on all pages without post-specific images
  2. Google Analytics 4 tracks page views via NEXT_PUBLIC_GA_ID environment variable
  3. GA4 custom events track CTA clicks, form submissions, blog category filters, and read completion
  4. Robots.txt and sitemap.xml include blog posts
  5. Noindex meta tag removed from all pages
  6. Orphaned HeroSection component deleted from codebase
  7. Site passes Lighthouse SEO audit (95+ score)
</success_criteria>

<output>
After completion, create `.planning/phases/19-launch-prep-tech-debt/19-03-SUMMARY.md`
</output>
