---
phase: 08-design-token-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/globals.css
  - tailwind.config.ts
autonomous: true

must_haves:
  truths:
    - "Developer can use p-xs through p-3xl spacing utilities and they resolve to correct pixel values"
    - "shadow-xs through shadow-xl produce five visually distinct elevation levels"
    - "duration-fast, duration-base, duration-slow are usable in transition-duration utilities"
    - "ease-smooth and ease-bounce are usable in transition-timing-function utilities"
    - "All token-generated utilities work in both light and dark mode"
  artifacts:
    - path: "app/globals.css"
      provides: "Spacing scale, shadow elevation, animation duration, and easing tokens in @theme block"
      contains: "--spacing-xs"
    - path: "app/globals.css"
      provides: "Shadow system with five levels"
      contains: "--shadow-xs"
    - path: "app/globals.css"
      provides: "Animation duration tokens"
      contains: "--duration-fast"
  key_links:
    - from: "app/globals.css @theme"
      to: "Tailwind utility generation"
      via: "@theme directive auto-generates utilities"
      pattern: "--spacing-(xs|sm|md|lg|xl|2xl|3xl)"
---

<objective>
Define the complete design token system in globals.css @theme: spacing scale (xs-3xl on 8pt grid), shadow elevation system (xs-xl with five distinct levels), animation duration tokens (fast/base/slow), and custom easing functions. Also evaluate and handle the legacy tailwind.config.ts file.

Purpose: Establish a single source of truth for all spacing, shadow, and timing decisions so that subsequent phases and page-level work reference tokens instead of arbitrary values. This is the foundation that all other v1.1 design phases build on.

Output: Updated globals.css with comprehensive @theme token definitions. Legacy tailwind.config.ts either removed or documented as needed for plugins.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-design-token-foundation/08-RESEARCH.md
@app/globals.css
@tailwind.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add spacing, shadow, animation, and easing tokens to @theme</name>
  <files>app/globals.css</files>
  <action>
Add the following token groups to the existing @theme block in globals.css, AFTER the existing font-sans definition and BEFORE the closing brace. Keep all existing @theme content (brand colors, semantic colors, radius, font) unchanged.

**Spacing scale (8pt grid with 4px half-steps):**
```
--spacing-xs: 4px;
--spacing-sm: 8px;
--spacing-md: 16px;
--spacing-lg: 24px;
--spacing-xl: 32px;
--spacing-2xl: 48px;
--spacing-3xl: 64px;
```

**Shadow elevation system (five distinct levels):**
```
--shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
--shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
```

**Animation duration tokens:**
```
--duration-fast: 150ms;
--duration-base: 300ms;
--duration-slow: 500ms;
```

**Custom easing functions:**
```
--ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
```

Add clear section comments (e.g., `/* ===== SPACING SCALE (8pt grid) ===== */`) before each group for maintainability.

Do NOT change the existing color, radius, or font definitions in @theme. Do NOT change anything in @layer base.
  </action>
  <verify>
Run `bun run build:no-aeo` to confirm the build completes without errors. Then search the built CSS output for the token variables to confirm Tailwind v4 processed them:
- Check that `p-xs`, `p-sm`, `p-md`, `p-lg`, `p-xl`, `p-2xl`, `p-3xl` would be valid utility classes
- Check that `shadow-xs` through `shadow-xl` are recognized
- Check that `duration-fast`, `duration-base`, `duration-slow` are recognized
- Check that `ease-smooth`, `ease-bounce` are recognized

Create a temporary test by adding `className="p-xs shadow-md duration-fast ease-smooth"` to a component, build, and verify no warnings.
  </verify>
  <done>globals.css @theme block contains all 17 new tokens (7 spacing, 5 shadow, 3 duration, 2 easing) with section comments. Build passes cleanly.</done>
</task>

<task type="auto">
  <name>Task 2: Evaluate and handle legacy tailwind.config.ts</name>
  <files>tailwind.config.ts</files>
  <action>
The legacy tailwind.config.ts exists from the v3 era. Evaluate whether it can be removed:

1. Check if `tailwindcss-animate` plugin requires the JS config. In Tailwind v4, the plugin is loaded via `@plugin "tailwindcss-animate"` in globals.css (line 2) - this means the JS config is NOT needed for the plugin.

2. Check if the `darkMode: "class"` setting is still needed. In Tailwind v4, dark mode detection uses the `@media (prefers-color-scheme: dark)` or class-based approach via CSS. The project uses `next-themes` which adds the `dark` class. Tailwind v4 uses a `dark` variant that checks for a `.dark` class by default when using the Tailwind v4 CSS-first approach, so no JS config is needed for this.

3. The theme extensions (colors, borderRadius, fontFamily) are ALL already defined in globals.css @theme block. The JS config is redundant.

4. The content paths (pages, components, app) are auto-detected by Tailwind v4's PostCSS plugin.

**Action:** Delete tailwind.config.ts entirely. All configuration is already handled by globals.css @theme + @plugin directives.

**If the build breaks after deletion:** Restore the file and add a comment at the top explaining why it still exists (document which specific feature requires it). But based on the research, deletion should be safe because:
- Plugin loaded via `@plugin` directive
- Colors defined in `@theme`
- Radius defined in `@theme`
- Font defined in `@theme`
- Dark mode handled by next-themes + Tailwind v4 default

Run the build after deletion to verify.
  </action>
  <verify>
1. Delete tailwind.config.ts
2. Run `bun run build:no-aeo` - must complete without errors
3. Run `bun run dev` and manually verify the site renders correctly (colors, fonts, dark mode toggle working)
4. If build fails, restore file and document the issue
  </verify>
  <done>tailwind.config.ts is either deleted (preferred) or documented with clear comments explaining why it must remain. Build passes. Site renders correctly with colors, fonts, radius, and dark mode all working from CSS-first configuration.</done>
</task>

</tasks>

<verification>
1. `bun run build:no-aeo` passes with zero errors
2. globals.css @theme block contains spacing (xs-3xl), shadow (xs-xl), duration (fast/base/slow), and easing (smooth/bounce) tokens
3. tailwind.config.ts is removed or documented
4. No visual regressions on the live site (colors, fonts, dark mode still work)
5. New token utilities are valid Tailwind classes (test with temporary usage in a component)
</verification>

<success_criteria>
- 17 new design tokens defined in a single @theme block
- Spacing utilities (p-xs through p-3xl) generate correct values
- Shadow utilities (shadow-xs through shadow-xl) are available
- Duration utilities (duration-fast/base/slow) are available
- Easing utilities (ease-smooth/bounce) are available
- Legacy JS config removed or clearly documented
- Build passes, no visual regressions
</success_criteria>

<output>
After completion, create `.planning/phases/08-design-token-foundation/08-01-SUMMARY.md`
</output>
