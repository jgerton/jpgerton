---
phase: 05-seo-aeo-performance
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/schema/local-business-schema.tsx
  - components/schema/person-schema.tsx
  - components/schema/service-schema.tsx
  - components/schema/faq-schema.tsx
autonomous: true

must_haves:
  truths:
    - "JSON-LD schema components render valid Schema.org markup"
    - "TypeScript provides compile-time validation of schema structure"
    - "Schema components can be imported and used on any page"
  artifacts:
    - path: "components/schema/local-business-schema.tsx"
      provides: "LocalBusiness JSON-LD"
      exports: ["LocalBusinessSchema"]
    - path: "components/schema/person-schema.tsx"
      provides: "Person JSON-LD"
      exports: ["PersonSchema"]
    - path: "components/schema/service-schema.tsx"
      provides: "Service JSON-LD"
      exports: ["ServiceSchema"]
    - path: "components/schema/faq-schema.tsx"
      provides: "FAQPage JSON-LD with speakable"
      exports: ["FAQSchema"]
  key_links:
    - from: "components/schema/*.tsx"
      to: "schema-dts"
      via: "import types"
      pattern: "from ['\"]schema-dts['\"]"
---

<objective>
Create reusable JSON-LD schema markup components using schema-dts for type-safe structured data.

Purpose: Enable search engines and AI assistants to understand site content through standardized Schema.org markup, improving rich results eligibility.
Output: Four schema components (LocalBusiness, Person, Service, FAQ) ready for page integration.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-seo-aeo-performance/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create LocalBusiness and Person schema components</name>
  <files>
    components/schema/local-business-schema.tsx
    components/schema/person-schema.tsx
  </files>
  <action>
Create two schema components for the business and personal brand:

**components/schema/local-business-schema.tsx:**
```typescript
import { WithContext, LocalBusiness } from "schema-dts";

export function LocalBusinessSchema() {
  const jsonLd: WithContext<LocalBusiness> = {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    name: "Jon Gerton Web Design",
    description: "Professional WordPress websites starting at $500",
    url: "https://jpgerton.com",
    email: "jon@jpgerton.com",
    priceRange: "$$",
    areaServed: {
      "@type": "Country",
      name: "United States",
    },
    sameAs: [
      "https://linkedin.com/in/jongerton",
      "https://github.com/jgerton",
    ],
  };

  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: JSON.stringify(jsonLd).replace(/</g, "\\u003c"),
      }}
    />
  );
}
```

**components/schema/person-schema.tsx:**
```typescript
import { WithContext, Person } from "schema-dts";

export function PersonSchema() {
  const jsonLd: WithContext<Person> = {
    "@context": "https://schema.org",
    "@type": "Person",
    name: "Jon Gerton",
    jobTitle: "Web Designer & Developer",
    url: "https://jpgerton.com",
    email: "jon@jpgerton.com",
    sameAs: [
      "https://linkedin.com/in/jongerton",
      "https://github.com/jgerton",
    ],
    knowsAbout: [
      "Web Development",
      "WordPress",
      "React",
      "Next.js",
      "TypeScript",
    ],
  };

  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: JSON.stringify(jsonLd).replace(/</g, "\\u003c"),
      }}
    />
  );
}
```

IMPORTANT: Always sanitize with `.replace(/</g, "\\u003c")` to prevent XSS injection in JSON-LD scripts.
  </action>
  <verify>
- Files exist at expected paths
- `bun run type-check` passes (schema-dts types validate structure)
- No TypeScript errors in schema structure
  </verify>
  <done>LocalBusinessSchema and PersonSchema components created with type-safe JSON-LD.</done>
</task>

<task type="auto">
  <name>Task 2: Create Service and FAQ schema components</name>
  <files>
    components/schema/service-schema.tsx
    components/schema/faq-schema.tsx
  </files>
  <action>
Create schema components for services page:

**components/schema/service-schema.tsx:**
```typescript
import { WithContext, Service } from "schema-dts";

export function ServiceSchema() {
  const jsonLd: WithContext<Service> = {
    "@context": "https://schema.org",
    "@type": "Service",
    serviceType: "Web Design",
    provider: {
      "@type": "Person",
      name: "Jon Gerton",
      url: "https://jpgerton.com",
    },
    areaServed: {
      "@type": "Country",
      name: "United States",
    },
    hasOfferCatalog: {
      "@type": "OfferCatalog",
      name: "Web Design Services",
      itemListElement: [
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "$500 WordPress Website",
            description: "Professional WordPress site delivered in 5 days. Includes 5-7 pages, mobile responsive design, contact form, and basic SEO.",
          },
          price: "500",
          priceCurrency: "USD",
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Custom Web Application",
            description: "Tailored web applications built with modern frameworks like React, Next.js, and Node.js.",
          },
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Team Growth Accelerator",
            description: "Developer mentorship, code review, and engineering team consulting services.",
          },
        },
      ],
    },
  };

  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: JSON.stringify(jsonLd).replace(/</g, "\\u003c"),
      }}
    />
  );
}
```

**components/schema/faq-schema.tsx:**
```typescript
import { WithContext, FAQPage } from "schema-dts";

type FAQItem = {
  question: string;
  answer: string;
};

type FAQSchemaProps = {
  questions: FAQItem[];
};

export function FAQSchema({ questions }: FAQSchemaProps) {
  const jsonLd: WithContext<FAQPage> = {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    mainEntity: questions.map(({ question, answer }) => ({
      "@type": "Question",
      name: question,
      acceptedAnswer: {
        "@type": "Answer",
        text: answer,
      },
    })),
    speakable: {
      "@type": "SpeakableSpecification",
      cssSelector: [".faq-answer"],
    },
  };

  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: JSON.stringify(jsonLd).replace(/</g, "\\u003c"),
      }}
    />
  );
}
```

The FAQ schema accepts dynamic questions and includes speakable markup for AI assistant discoverability (SEO-06).
  </action>
  <verify>
- Files exist at expected paths
- `bun run type-check` passes
- FAQSchema accepts questions prop array
  </verify>
  <done>ServiceSchema and FAQSchema components created with speakable markup for AI discoverability.</done>
</task>

<task type="auto">
  <name>Task 3: Create schema components barrel export</name>
  <files>components/schema/index.ts</files>
  <action>
Create a barrel export file for clean imports:

```typescript
// components/schema/index.ts
export { LocalBusinessSchema } from "./local-business-schema";
export { PersonSchema } from "./person-schema";
export { ServiceSchema } from "./service-schema";
export { FAQSchema } from "./faq-schema";
```

This enables clean imports like:
```typescript
import { LocalBusinessSchema, PersonSchema } from "@/components/schema";
```
  </action>
  <verify>
- `bun run type-check` passes
- All four components can be imported from "@/components/schema"
  </verify>
  <done>Barrel export file created for clean schema component imports.</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `bun run type-check` passes
2. All 4 schema components export correctly
3. TypeScript provides autocomplete for schema-dts types
4. Components render valid JSON-LD strings
</verification>

<success_criteria>
- [ ] components/schema/local-business-schema.tsx exports LocalBusinessSchema
- [ ] components/schema/person-schema.tsx exports PersonSchema
- [ ] components/schema/service-schema.tsx exports ServiceSchema
- [ ] components/schema/faq-schema.tsx exports FAQSchema with speakable markup
- [ ] components/schema/index.ts provides barrel exports
- [ ] All JSON-LD uses `.replace(/</g, "\\u003c")` for XSS prevention
- [ ] TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-seo-aeo-performance/05-02-SUMMARY.md`
</output>
