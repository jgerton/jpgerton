---
phase: 11-composition-components
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/portfolio/testimonial-card.tsx
  - components/portfolio/case-study-visual.tsx
autonomous: true

must_haves:
  truths:
    - "TestimonialCard displays client photo (Avatar), name, title, company, and quote in a professional layout"
    - "TestimonialCard uses semantic HTML (figure, blockquote, figcaption, cite) for accessibility"
    - "CaseStudyVisual presents problem, solution, and results sections in a scannable layout"
    - "CaseStudyVisual results section highlights metrics as a bulleted list with visual emphasis"
  artifacts:
    - path: "components/portfolio/testimonial-card.tsx"
      provides: "Testimonial display component with semantic HTML"
      exports: ["TestimonialCard", "TestimonialCardProps"]
      min_lines: 40
    - path: "components/portfolio/case-study-visual.tsx"
      provides: "Case study problem/solution/results layout"
      exports: ["CaseStudyVisual", "CaseStudyVisualProps"]
      min_lines: 60
  key_links:
    - from: "components/portfolio/testimonial-card.tsx"
      to: "components/ui/card.tsx"
      via: "Card with elevation prop for consistent styling"
      pattern: "Card.*elevation"
    - from: "components/portfolio/testimonial-card.tsx"
      to: "components/ui/avatar.tsx"
      via: "Avatar/AvatarImage/AvatarFallback for client photos"
      pattern: "import.*Avatar.*from.*ui/avatar"
    - from: "components/portfolio/case-study-visual.tsx"
      to: "components/ui/card.tsx"
      via: "Card for each section (problem/solution/results)"
      pattern: "Card.*elevation"
    - from: "components/portfolio/case-study-visual.tsx"
      to: "components/ui/badge.tsx"
      via: "Badge for section labels (Challenge/Approach/Impact)"
      pattern: "import.*Badge.*from.*ui/badge"
---

<objective>
Build TestimonialCard and CaseStudyVisual trust signal components that combine UI primitives with accessible, professional layouts for building visitor credibility.

Purpose: These components directly support the conversion goal - testimonials and case studies are proven trust signals that help local business owners feel confident about booking the $500 WordPress service. Semantic HTML ensures accessibility and SEO benefits.

Output: Two component files in components/portfolio/ ready for page integration in Phase 13.
</objective>

<execution_context>
@C:\Users\jonge\.claude\get-shit-done\workflows\execute-plan.md
@C:\Users\jonge\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-composition-components/11-RESEARCH.md
@components/ui/card.tsx
@components/ui/badge.tsx
@components/ui/avatar.tsx
@lib/utils.ts
@app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TestimonialCard with semantic HTML and Avatar</name>
  <files>
    components/portfolio/testimonial-card.tsx
  </files>
  <action>
Create a testimonial card component that displays client quotes with professional attribution, using semantic HTML for accessibility and SEO.

**TypeScript interface (export it as named export):**
```typescript
export interface TestimonialCardProps {
  quote: string;
  name: string;
  title: string;
  company: string;
  photo?: string;
  className?: string;
}
```

**Component structure:**
```
Card (elevation="sm", padding p-lg)
  figure
    blockquote (the quote text)
      p (with smart quotes via CSS ::before/::after or literal characters)
    figcaption (attribution)
      Avatar (h-12 w-12 for slightly larger than default)
        AvatarImage (src=photo, alt=name)
        AvatarFallback (initials derived from name)
      div
        cite (name, font-semibold not-italic text-foreground)
        p (title at company, text-sm text-muted-foreground)
```

**Implementation details:**
- Add `"use client"` directive since Avatar uses client-side Radix primitives
- Derive initials: `name.split(" ").map(n => n[0]).join("").toUpperCase()` (handle edge cases like single name)
- Quote text: Use `text-base leading-relaxed text-foreground mb-md` for readable quote body
- Add left border accent: `border-l-4 border-primary` on the blockquote for visual emphasis (this is a non-GPU property but it's static, not animated, so it's fine)
- figcaption layout: `flex items-center gap-md mt-md`
- Card class: combine with `cn()` to allow className override
- Import Card from @/components/ui/card, Avatar/AvatarImage/AvatarFallback from @/components/ui/avatar, cn from @/lib/utils

**Semantic HTML rationale (do NOT substitute divs):**
- `<figure>` wraps the entire testimonial (quote + attribution)
- `<blockquote>` for the quoted text (screen readers announce it as a quotation)
- `<figcaption>` for the attribution (semantically linked to the figure)
- `<cite>` for the person's name (identifies the source of the quotation)

Avoid:
- Do NOT use generic div for quote container (accessibility violation)
- Do NOT hardcode avatar sizes in inline styles (use Tailwind classes)
- Do NOT animate anything in this component (Phase 12)
  </action>
  <verify>
Run `bun run build` and confirm zero TypeScript errors. Verify semantic HTML and exports:
- `grep "blockquote" components/portfolio/testimonial-card.tsx`
- `grep "figcaption" components/portfolio/testimonial-card.tsx`
- `grep "export.*TestimonialCard" components/portfolio/testimonial-card.tsx`
- `grep "export.*TestimonialCardProps" components/portfolio/testimonial-card.tsx`
  </verify>
  <done>
TestimonialCard renders with semantic HTML (figure/blockquote/figcaption/cite), Avatar with fallback initials, left border accent, Card elevation="sm", and readable typography. Both component and props interface are exported. Build passes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create CaseStudyVisual with three-section layout</name>
  <files>
    components/portfolio/case-study-visual.tsx
  </files>
  <action>
Create a case study visual component that presents problem, solution, and results in a scannable three-column layout (stacking to single column on mobile).

**TypeScript interfaces (export them):**
```typescript
export interface CaseStudySection {
  heading: string;
  content: string;
  metrics?: string[];
}

export interface CaseStudyVisualProps {
  title?: string;
  problem: CaseStudySection;
  solution: CaseStudySection;
  results: CaseStudySection;
  className?: string;
}
```

**Component structure:**
```
article (semantic container for the case study)
  h3 (optional title, font-serif text-h3 leading-snug mb-lg, only if title prop provided)
  div (grid grid-cols-1 lg:grid-cols-3 gap-lg)
    Card (problem - elevation="sm")
      CardHeader (pb-xs)
        Badge (variant="destructive", w-fit mb-sm) "Challenge"
        h4 (font-serif text-h5 leading-snug) problem.heading
      CardContent (text-muted-foreground leading-relaxed)
        p problem.content
    Card (solution - elevation="sm")
      CardHeader (pb-xs)
        Badge (variant="secondary", w-fit mb-sm) "Approach"
        h4 (font-serif text-h5 leading-snug) solution.heading
      CardContent (text-muted-foreground leading-relaxed)
        p solution.content
    Card (results - elevation="sm")
      CardHeader (pb-xs)
        Badge (variant="default", w-fit mb-sm) "Impact"
        h4 (font-serif text-h5 leading-snug) results.heading
      CardContent
        p (text-muted-foreground leading-relaxed mb-md) results.content
        ul (if results.metrics exists and has items)
          li (for each metric: flex items-center gap-sm text-sm)
            span (text-primary font-bold) checkmark icon or "checkmark" character
            span (font-medium text-foreground) metric text
```

**Implementation details:**
- Use `<article>` as the root element for semantic meaning (a self-contained piece of content)
- Import Card, CardHeader, CardContent from @/components/ui/card
- Import Badge from @/components/ui/badge
- Import cn from @/lib/utils
- For the checkmark in results metrics, use a simple SVG check icon from lucide-react (`Check` icon, size h-4 w-4 text-primary) or a Unicode checkmark character. Use lucide-react Check icon for consistency with the rest of the icon system.
- Import `Check` from lucide-react
- The three cards should have equal min-height to align visually. Let CSS grid handle this naturally (grid items stretch to tallest sibling by default).
- Badge color coding: destructive (red-ish) for "Challenge", secondary (blue-ish) for "Approach", default (primary) for "Impact" - this creates a visual progression from problem to solution to outcome.
- Allow className override on the root article element via cn()

Avoid:
- Do NOT use h3 inside cards (h4 is correct since the optional title uses h3)
- Do NOT animate card transitions (Phase 12)
- Do NOT import CardTitle (it hardcodes text-2xl which conflicts with our fluid type)
  </action>
  <verify>
Run `bun run build` and confirm zero TypeScript errors. Verify structure:
- `grep "article" components/portfolio/case-study-visual.tsx`
- `grep "Badge.*Challenge" components/portfolio/case-study-visual.tsx`
- `grep "Badge.*Approach" components/portfolio/case-study-visual.tsx`
- `grep "Badge.*Impact" components/portfolio/case-study-visual.tsx`
- `grep "export.*CaseStudyVisual" components/portfolio/case-study-visual.tsx`
  </verify>
  <done>
CaseStudyVisual renders three Card sections (Challenge/Approach/Impact) in a responsive grid with Badge color coding, serif headings, readable content text, and a metrics list with checkmark icons in the results section. All interfaces and the component are exported. Build passes.
  </done>
</task>

</tasks>

<verification>
1. `bun run build` passes with zero errors
2. Two files exist: testimonial-card.tsx, case-study-visual.tsx
3. TestimonialCard uses semantic HTML: figure, blockquote, figcaption, cite
4. TestimonialCard uses Avatar with fallback initials
5. CaseStudyVisual renders 3 Card sections with Badge labels
6. CaseStudyVisual results section shows metrics with Check icons
7. Both components use Card elevation prop for consistent styling
8. No components/ui/* files were modified
</verification>

<success_criteria>
- TestimonialCard displays photo (Avatar), name (cite), title, company, and quote (blockquote) with semantic HTML
- CaseStudyVisual presents problem/solution/results with Badge-labeled sections and metrics list
- Both components use Card elevation, spacing tokens, and font-serif headings consistently
- Both components export their props interfaces for type-safe usage
- No shadcn/ui source files were modified
</success_criteria>

<output>
After completion, create `.planning/phases/11-composition-components/11-02-SUMMARY.md`
</output>
