---
phase: 11-composition-components
plan: 03
type: execute
wave: 2
depends_on: ["11-01", "11-02"]
files_modified:
  - components/portfolio/social-proof-display.tsx
  - components/portfolio/index.ts
autonomous: true

must_haves:
  truths:
    - "SocialProofDisplay shows metrics callouts (value + label) in a responsive grid with consistent Card styling"
    - "All 6 composition components are importable from a single barrel export"
    - "All composition components use the same card elevation pattern, spacing tokens, and font hierarchy"
  artifacts:
    - path: "components/portfolio/social-proof-display.tsx"
      provides: "Metrics callout component for social proof near CTAs"
      exports: ["SocialProofDisplay", "SocialProofDisplayProps", "Metric"]
      min_lines: 40
    - path: "components/portfolio/index.ts"
      provides: "Barrel export for all portfolio composition components"
      min_lines: 6
  key_links:
    - from: "components/portfolio/social-proof-display.tsx"
      to: "components/ui/card.tsx"
      via: "Card with elevation='flat' for subtle metric containers"
      pattern: "Card.*elevation"
    - from: "components/portfolio/index.ts"
      to: "components/portfolio/social-proof-display.tsx"
      via: "Re-export"
      pattern: "export.*from.*social-proof-display"
    - from: "components/portfolio/index.ts"
      to: "components/portfolio/testimonial-card.tsx"
      via: "Re-export"
      pattern: "export.*from.*testimonial-card"
---

<objective>
Build SocialProofDisplay metrics component and create a barrel export file for all composition components, then verify consistent component language across all compositions.

Purpose: SocialProofDisplay provides the final trust signal component (metrics near CTAs). The barrel export makes all composition components easily importable for Phase 13 page integration. Consistency verification ensures all components form a cohesive visual language.

Output: SocialProofDisplay component, barrel export index.ts, and verified consistent component language.
</objective>

<execution_context>
@C:\Users\jonge\.claude\get-shit-done\workflows\execute-plan.md
@C:\Users\jonge\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-composition-components/11-RESEARCH.md
@.planning/phases/11-composition-components/11-01-SUMMARY.md
@.planning/phases/11-composition-components/11-02-SUMMARY.md
@components/ui/card.tsx
@components/portfolio/hero-section.tsx
@components/portfolio/project-card-enhanced.tsx
@components/portfolio/cta-button.tsx
@components/portfolio/testimonial-card.tsx
@components/portfolio/case-study-visual.tsx
@lib/utils.ts
@app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SocialProofDisplay metrics component</name>
  <files>
    components/portfolio/social-proof-display.tsx
  </files>
  <action>
Create a social proof display component that shows key metrics (projects completed, years experience, technologies, etc.) in a responsive grid near conversion points.

**TypeScript interfaces (export them):**
```typescript
export interface Metric {
  value: string;
  label: string;
  icon?: React.ReactNode;
}

export interface SocialProofDisplayProps {
  metrics: Metric[];
  className?: string;
}
```

**Component structure:**
```
section (aria-label="Key metrics")
  div (grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-md)
    For each metric:
      Card (elevation="flat", className="p-lg text-center")
        div (icon container, if metric.icon exists)
          flex justify-center mb-sm text-primary
          icon rendered at size suitable for display
        div (metric value)
          font-serif text-h2 leading-tight text-primary font-bold mb-xs
        div (metric label)
          text-sm text-muted-foreground font-medium
```

**Implementation details:**
- Use `<section>` with `aria-label="Key metrics"` as root for accessibility
- Import Card from @/components/ui/card
- Import cn from @/lib/utils
- Card uses `elevation="flat"` for subtle presentation (these are informational, not interactive)
- Metric values use `font-serif text-h2 leading-tight text-primary font-bold` for visual impact (large serif numbers draw the eye)
- Metric labels use `text-sm text-muted-foreground font-medium` for understated description
- Grid breakpoints: 1 col mobile, 2 col small tablet, 3 col desktop (assuming typical 3 metrics)
- The grid adapts naturally if given 2, 3, 4, or more metrics
- Allow className override on root section via cn()
- Icon container only renders if metric.icon is provided (conditional rendering)
- No hover effects on these cards (they are static informational displays, not interactive)

**Design language consistency notes (document in code comment):**
```
// Component Language Convention:
// - Card elevation="flat" for informational (non-interactive) displays
// - Card elevation="sm" for content cards (testimonials, case studies)
// - Card elevation="lg" for interactive cards (project cards with links)
// - font-serif for values/headings, font-sans for labels/descriptions
// - text-primary for emphasis values, text-muted-foreground for supporting text
// - Spacing tokens: p-lg for card padding, gap-md for grid gaps
```

Avoid:
- Do NOT add hover effects (these are informational, not clickable)
- Do NOT use CardHeader/CardContent sub-components (too much padding for this compact layout, just use p-lg on Card directly)
- Do NOT animate (Phase 12 will add viewport entry animations)
  </action>
  <verify>
Run `bun run build` and confirm zero TypeScript errors. Verify:
- `grep "export.*SocialProofDisplay" components/portfolio/social-proof-display.tsx`
- `grep "export.*Metric" components/portfolio/social-proof-display.tsx`
- `grep "aria-label" components/portfolio/social-proof-display.tsx`
- `grep "elevation.*flat" components/portfolio/social-proof-display.tsx`
  </verify>
  <done>
SocialProofDisplay renders metrics in a responsive grid with Card elevation="flat", serif values in primary color, and muted labels. Component, Metric interface, and SocialProofDisplayProps are all exported. Accessible with aria-label on section. Build passes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create barrel export and verify component language consistency</name>
  <files>
    components/portfolio/index.ts
  </files>
  <action>
Create a barrel export file that re-exports all portfolio composition components for convenient importing, and verify that all components follow the established component language conventions.

**Step 1: Check for circular import risk**

Before creating the barrel export, verify no existing portfolio components import from each other using the `@/components/portfolio` path (which would resolve to the barrel and cause circular imports):

```bash
grep -r "from.*@/components/portfolio" components/portfolio/*.tsx
```

If any matches are found, exclude those components from the barrel export and instead only export the new Phase 11 components. If no matches (expected), proceed with the full barrel export.

**Step 2: Verify props interfaces exist in source files before adding type exports**

Before writing the barrel export, confirm each props interface is actually exported from its source file. Run these checks:

```bash
grep "export.*interface.*ProjectCardEnhancedProps\|export.*type.*ProjectCardEnhancedProps" components/portfolio/project-card-enhanced.tsx
grep "export.*interface.*CTAButtonProps\|export.*type.*CTAButtonProps" components/portfolio/cta-button.tsx
grep "export.*interface.*TestimonialCardProps\|export.*type.*TestimonialCardProps" components/portfolio/testimonial-card.tsx
grep "export.*interface.*CaseStudyVisualProps\|export.*type.*CaseStudyVisualProps" components/portfolio/case-study-visual.tsx
grep "export.*interface.*CaseStudySection\|export.*type.*CaseStudySection" components/portfolio/case-study-visual.tsx
grep "export.*interface.*SocialProofDisplayProps\|export.*type.*SocialProofDisplayProps" components/portfolio/social-proof-display.tsx
grep "export.*interface.*Metric\|export.*type.*Metric" components/portfolio/social-proof-display.tsx
```

Only include `export type { ... }` lines in the barrel for interfaces that the grep confirms are exported. If a grep returns no match, omit that type export from the barrel.

**Step 3: Write barrel export (components/portfolio/index.ts):**

Based on the verification results, write the barrel export. The expected content (assuming all interfaces are exported as planned):

```typescript
// Portfolio Composition Components
// These components combine shadcn/ui primitives with brand personality.
// They are presentational only - data fetching happens in page components.
//
// Component Language Conventions:
// - Card elevation: flat (informational), sm (content), lg (interactive/linked)
// - Typography: font-serif for headings/values, font-sans for labels/body
// - Colors: text-primary for emphasis, text-muted-foreground for supporting
// - Spacing: p-lg card padding, gap-md grids, gap-lg section grids
// - Buttons: CTAButton for conversion points, Button for navigation/secondary

export { HeroSection } from "./hero-section";
export { ProjectCard } from "./project-card";
export { ProjectCardEnhanced } from "./project-card-enhanced";
export type { ProjectCardEnhancedProps } from "./project-card-enhanced"; // only if grep confirmed export
export { ProjectGrid } from "./project-grid";
export { ProjectFilters } from "./project-filters";
export { CTAButton, ctaButtonVariants } from "./cta-button";
export type { CTAButtonProps } from "./cta-button"; // only if grep confirmed export
export { TestimonialCard } from "./testimonial-card";
export type { TestimonialCardProps } from "./testimonial-card"; // only if grep confirmed export
export { CaseStudyVisual } from "./case-study-visual";
export type { CaseStudyVisualProps, CaseStudySection } from "./case-study-visual"; // only if grep confirmed exports
export { SocialProofDisplay } from "./social-proof-display";
export type { SocialProofDisplayProps, Metric } from "./social-proof-display"; // only if grep confirmed exports
```

IMPORTANT: If the Step 2 grep for any interface returns empty, remove that `export type` line from the barrel. Do not blindly copy the template - only include type re-exports that are verified to exist.

**Step 4: Consistency verification (do this as part of the task, fix any issues found):**

Read through each of the 4 new composition component files (cta-button, project-card-enhanced, testimonial-card, case-study-visual, social-proof-display) and verify:

1. **Card elevation usage:**
   - ProjectCardEnhanced: elevation="lg" (interactive, linked) - correct
   - TestimonialCard: elevation="sm" (content display) - correct
   - CaseStudyVisual: elevation="sm" (content display) - correct
   - SocialProofDisplay: elevation="flat" (informational) - correct

2. **Typography:**
   - All headings use font-serif
   - All labels/descriptions use font-sans (implicit, since font-sans is the default)
   - Fluid type tokens used (text-h2, text-h3, text-h5, etc.)

3. **Spacing:**
   - Card padding uses spacing tokens (p-lg)
   - Grid gaps use spacing tokens (gap-md, gap-lg)
   - No arbitrary Tailwind values for spacing

4. **Colors:**
   - Emphasis values use text-primary
   - Supporting text uses text-muted-foreground
   - No hardcoded hex colors

If any inconsistency is found, fix it in the source file. Document what was found and fixed in the summary.
  </action>
  <verify>
Run `bun run build` and confirm zero TypeScript errors.

Verify no circular imports exist:
- `grep -r "from.*@/components/portfolio" components/portfolio/*.tsx` should return empty (no portfolio component imports from the barrel)

Verify props interfaces exist in source files before they appear in barrel:
- `grep "export.*interface.*ProjectCardEnhancedProps\|export.*type.*ProjectCardEnhancedProps" components/portfolio/project-card-enhanced.tsx`
- `grep "export.*interface.*CTAButtonProps\|export.*type.*CTAButtonProps" components/portfolio/cta-button.tsx`
- `grep "export.*interface.*TestimonialCardProps\|export.*type.*TestimonialCardProps" components/portfolio/testimonial-card.tsx`
- `grep "export.*interface.*CaseStudyVisualProps\|export.*type.*CaseStudyVisualProps" components/portfolio/case-study-visual.tsx`
- `grep "export.*interface.*SocialProofDisplayProps\|export.*type.*SocialProofDisplayProps" components/portfolio/social-proof-display.tsx`
- `grep "export.*interface.*Metric\|export.*type.*Metric" components/portfolio/social-proof-display.tsx`

For each type re-export in index.ts, the corresponding grep above MUST return a match. If any barrel type export has no matching source export, that is a build error to fix.

Verify barrel export includes all components:
- `grep "export.*HeroSection" components/portfolio/index.ts`
- `grep "export.*CTAButton" components/portfolio/index.ts`
- `grep "export.*TestimonialCard" components/portfolio/index.ts`
- `grep "export.*CaseStudyVisual" components/portfolio/index.ts`
- `grep "export.*SocialProofDisplay" components/portfolio/index.ts`

Verify the file count in components/portfolio/ is correct (should have at minimum: hero-section.tsx, project-card.tsx, project-card-enhanced.tsx, project-grid.tsx, project-filters.tsx, cta-button.tsx, testimonial-card.tsx, case-study-visual.tsx, social-proof-display.tsx, index.ts = 10 files).
  </verify>
  <done>
Barrel export file re-exports all portfolio components (existing + 5 new) with type exports only for interfaces verified to exist in source files. No circular imports detected. Component language consistency verified across all composition components: card elevations follow flat/sm/lg convention, typography uses serif headings and sans labels, spacing uses design tokens, colors use semantic variables. Build passes with zero errors.
  </done>
</task>

</tasks>

<verification>
1. `bun run build` passes with zero errors
2. social-proof-display.tsx renders metrics grid with Card elevation="flat"
3. index.ts barrel export includes all portfolio components (10 total files in directory)
4. No circular imports within portfolio components (grep confirms no cross-imports via barrel path)
5. All type re-exports in barrel are backed by verified source file exports
6. All composition components follow consistent card elevation convention (flat/sm/lg)
7. All composition components use spacing tokens (no arbitrary px values)
8. All composition components use semantic color variables (no hardcoded hex)
9. All composition components use font-serif for headings/values
</verification>

<success_criteria>
- SocialProofDisplay shows metrics in responsive grid with serif values and accessible section
- Barrel export enables `import { CTAButton, TestimonialCard, ... } from "@/components/portfolio"`
- No circular imports exist between portfolio components and the barrel export
- All type re-exports in barrel correspond to verified exported interfaces in source files
- Component language is consistent: card elevations follow convention, typography follows serif/sans split, spacing uses tokens
- No shadcn/ui source files were modified in this plan
- All components are presentational (no data fetching or business logic)
</success_criteria>

<output>
After completion, create `.planning/phases/11-composition-components/11-03-SUMMARY.md`
</output>
