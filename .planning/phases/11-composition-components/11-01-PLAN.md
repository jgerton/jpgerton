---
phase: 11-composition-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/portfolio/project-card-enhanced.tsx
  - components/portfolio/cta-button.tsx
  - components/portfolio/hero-section.tsx
autonomous: true

must_haves:
  truths:
    - "ProjectCardEnhanced renders with serif title, lg elevation, image hover zoom, and tech stack badges"
    - "CTAButton wraps Button with conversion-focused presets (primary vs secondary intent, gradient option)"
    - "HeroSection uses CTAButton with warm accent and brand gradient styling"
  artifacts:
    - path: "components/portfolio/project-card-enhanced.tsx"
      provides: "Enhanced project card with brand styling"
      exports: ["ProjectCardEnhanced"]
      min_lines: 50
    - path: "components/portfolio/cta-button.tsx"
      provides: "Conversion-focused button wrapper"
      exports: ["CTAButton", "ctaButtonVariants"]
      min_lines: 40
    - path: "components/portfolio/hero-section.tsx"
      provides: "Enhanced hero with CTAButton integration"
      min_lines: 20
  key_links:
    - from: "components/portfolio/project-card-enhanced.tsx"
      to: "components/ui/card.tsx"
      via: "Card with elevation='lg' prop"
      pattern: "elevation.*lg"
    - from: "components/portfolio/cta-button.tsx"
      to: "components/ui/button.tsx"
      via: "Button with asChild composition"
      pattern: "import.*Button.*from.*ui/button"
    - from: "components/portfolio/hero-section.tsx"
      to: "components/portfolio/cta-button.tsx"
      via: "CTAButton import for hero CTAs"
      pattern: "import.*CTAButton.*from.*cta-button"
---

<objective>
Build the three core portfolio composition components: ProjectCardEnhanced (branded project card), CTAButton (conversion-focused button wrapper), and enhance HeroSection to use CTAButton with brand personality.

Purpose: These components establish the portfolio-specific visual language that differentiates the site from generic shadcn/ui. ProjectCardEnhanced replaces the basic card for featured contexts, CTAButton standardizes conversion-oriented buttons, and HeroSection gets the warm accent treatment.

Output: Three component files in components/portfolio/ ready for page integration in Phase 13.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-composition-components/11-RESEARCH.md
@components/ui/button.tsx
@components/ui/card.tsx
@components/ui/badge.tsx
@components/portfolio/hero-section.tsx
@components/portfolio/project-card.tsx
@lib/utils.ts
@app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CTAButton and ProjectCardEnhanced composition components</name>
  <files>
    components/portfolio/cta-button.tsx
    components/portfolio/project-card-enhanced.tsx
  </files>
  <action>
**CTAButton (components/portfolio/cta-button.tsx):**

Create a conversion-focused button wrapper using CVA that composes the existing Button component. This is NOT a replacement for Button - it is a portfolio-specific wrapper for CTAs near conversion points.

CVA variants:
- `intent`: "primary" (bg-primary), "warm" (bg-accent-warm text-accent-warm-foreground), "gradient" (delegates to Button variant="gradient")
- `size`: "default" (h-10 px-4), "lg" (h-11 px-8), "xl" (h-14 px-12 text-lg font-semibold)
- Default: intent="primary", size="lg"

Implementation details:
- Import Button from @/components/ui/button and use it as the rendered element
- Support `asChild` prop (pass through to Button for Link composition)
- Map CTAButton intent to Button variant: primary -> primary, warm -> primary (with className override for accent-warm colors), gradient -> gradient
- Export both CTAButton component and ctaButtonVariants
- Use cn() from @/lib/utils for className merging
- Add `font-medium` to all sizes, `font-semibold shadow-lg` only to xl via compound variant

TypeScript interface:
```typescript
export interface CTAButtonProps
  extends Omit<React.ComponentPropsWithoutRef<typeof Button>, 'variant' | 'size'>,
    VariantProps<typeof ctaButtonVariants> {}
```

**ProjectCardEnhanced (components/portfolio/project-card-enhanced.tsx):**

Create an enhanced project card that wraps Card with brand-specific styling for featured/showcase contexts. Uses serif headings, lg elevation, image hover zoom, and tech stack badges.

Props interface:
```typescript
interface ProjectCardEnhancedProps {
  project: {
    _id: string;
    name: string;
    slug: string;
    description: string;
    screenshotUrl: string | null;
    techStack: string[];
    status: "live" | "archived" | "in-progress";
  };
  priority?: boolean; // For above-fold cards, passes to Image priority prop
}
```

Implementation details:
- Wrap in Link to `/projects/${project.slug}`
- Use `Card elevation="lg"` with `overflow-hidden group` classes
- Image container: `relative aspect-video bg-muted` with next/image using `fill`, proper `sizes` prop, and `group-hover:scale-105 transition-transform duration-[var(--duration-base)] ease-smooth`
- CardHeader with:
  - `h3` using `font-serif text-h5 leading-snug` for project name (NOT CardTitle - we want semantic h3 with serif)
  - CardDescription for the project description with `line-clamp-2`
- CardContent (if techStack has items): render first 4 tech items as Badge variant="secondary" with `text-xs` size, and if more than 4, show a "+N more" muted text
- Status badge in top-right corner of image container: `absolute top-sm right-sm z-10` with semi-transparent background
- Import from: Card/CardHeader/CardDescription/CardContent from @/components/ui/card, Badge from @/components/ui/badge, Image from next/image, Link from next/link

Avoid:
- Do NOT use CardTitle component (it renders h3 with fixed text-2xl styling that conflicts with fluid type)
- Do NOT animate width, height, or background-color (GPU performance)
- Do NOT import or modify any components/ui/* source files
  </action>
  <verify>
Run `bun run build` and confirm zero TypeScript errors and zero build errors. Verify both files exist with correct exports by checking:
- `grep -r "export function CTAButton" components/portfolio/cta-button.tsx`
- `grep -r "export function ProjectCardEnhanced" components/portfolio/project-card-enhanced.tsx`
- `grep -r "export.*ctaButtonVariants" components/portfolio/cta-button.tsx`
  </verify>
  <done>
CTAButton renders with 3 intent variants (primary, warm, gradient) and 3 sizes (default, lg, xl), composing the existing Button. ProjectCardEnhanced renders with serif h3 heading, lg card elevation, hover image zoom, tech stack badges (max 4 visible), and status badge overlay. Both build without errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Enhance HeroSection with CTAButton and brand personality</name>
  <files>
    components/portfolio/hero-section.tsx
  </files>
  <action>
Update the existing HeroSection to use CTAButton instead of plain Button, adding brand personality through the warm accent color and gradient options.

Changes to make:
1. Replace `import { Button } from "@/components/ui/button"` with `import { CTAButton } from "@/components/portfolio/cta-button"`
2. Primary CTA ("Get Your $500 Site"): Change to `<CTAButton asChild intent="warm" size="xl">` wrapping the Link to /services. The warm intent uses the amber/gold accent (bg-accent-warm) for attention-grabbing conversion CTA.
3. Secondary CTA ("View Portfolio"): Change to `<CTAButton asChild intent="primary" size="lg">` wrapping the Link to /projects. Keep the outline/secondary feel but use CTAButton for consistency. Actually, for secondary: use variant pass-through. Since CTAButton wraps Button, add a `variant` override prop or simply use Button with variant="outline" for the secondary action. Better approach: keep the secondary CTA as `<CTAButton asChild intent="primary" size="lg">` but add a `className="bg-transparent border border-input hover:bg-accent hover:text-accent-foreground"` override for outline behavior.

Simplest approach: The secondary CTA should remain a regular Button with variant="outline" size="lg" since CTAButton is specifically for conversion-focused primary actions. This keeps the visual hierarchy clear: warm CTAButton for primary conversion, outline Button for secondary navigation.

Final structure:
```tsx
import { CTAButton } from "@/components/portfolio/cta-button";
import { Button } from "@/components/ui/button";
import Link from "next/link";

export function HeroSection() {
  return (
    <section className="py-3xl px-md text-center">
      <h1 className="font-serif font-semibold text-hero leading-tight mb-md text-foreground">
        Professional WordPress Sites from $500
      </h1>
      <p className="font-serif italic text-h5 leading-snug text-muted-foreground mb-xl max-w-2xl mx-auto">
        Fast, mobile-friendly websites for local businesses. Custom development also available.
      </p>
      <div className="flex flex-col sm:flex-row gap-md justify-center">
        <CTAButton asChild intent="warm" size="xl">
          <Link href="/services">Get Your $500 Site</Link>
        </CTAButton>
        <Button asChild variant="outline" size="lg">
          <Link href="/projects">View Portfolio</Link>
        </Button>
      </div>
    </section>
  );
}
```

This preserves the existing layout and typography (already styled in Phase 10) while upgrading the primary CTA to use the warm accent color from Phase 10-03.

Avoid:
- Do NOT change the typography classes (already correct from Phase 10-02)
- Do NOT change section padding or layout (already correct from Phase 8-03)
- Do NOT add animations here (Phase 12 handles that)
  </action>
  <verify>
Run `bun run build` and confirm zero errors. Verify the HeroSection imports CTAButton and uses warm intent:
- `grep "CTAButton" components/portfolio/hero-section.tsx`
- `grep 'intent="warm"' components/portfolio/hero-section.tsx`
  </verify>
  <done>
HeroSection primary CTA uses CTAButton with intent="warm" size="xl" (amber/gold accent), secondary CTA remains Button with variant="outline" for clear visual hierarchy. Build passes with zero errors.
  </done>
</task>

</tasks>

<verification>
1. `bun run build` passes with zero errors
2. Three files exist: cta-button.tsx, project-card-enhanced.tsx, updated hero-section.tsx
3. CTAButton exports both component and variants
4. ProjectCardEnhanced uses Card elevation="lg", font-serif heading, Image with fill+sizes, Badge for tech stack
5. HeroSection uses CTAButton with intent="warm" for primary CTA
6. No components/ui/* files were modified (composition only)
</verification>

<success_criteria>
- ProjectCardEnhanced, CTAButton, and enhanced HeroSection all exist in components/portfolio/
- All three components build without TypeScript errors
- CTAButton provides intent variants (primary, warm, gradient) composing Button
- ProjectCardEnhanced wraps Card with brand-specific styling distinct from basic ProjectCard
- HeroSection primary CTA renders with amber/gold warm accent color
- No shadcn/ui source files were modified
</success_criteria>

<output>
After completion, create `.planning/phases/11-composition-components/11-01-SUMMARY.md`
</output>
