---
phase: 13-page-level-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/portfolio/sections/section-background.tsx
  - components/portfolio/sections/cta-banner.tsx
  - components/portfolio/sections/hero-with-gradient.tsx
  - components/portfolio/sections/mid-page-cta.tsx
  - components/portfolio/index.ts
  - app/(home)/page.tsx
autonomous: true

must_haves:
  truths:
    - "Hero section communicates outcome-first value proposition with gradient backdrop and dual CTAs"
    - "Home page follows deliberate flow: Hero -> Services overview -> Featured projects -> Social proof -> CTA banner"
    - "Section components provide consistent padding, centering, and alternating gradient/neutral backgrounds"
    - "End-page CTA banner has full-width gradient background with benefit-focused copy"
  artifacts:
    - path: "components/portfolio/sections/section-background.tsx"
      provides: "Reusable section wrapper with gradient/neutral/muted variants"
      exports: ["SectionBackground"]
    - path: "components/portfolio/sections/cta-banner.tsx"
      provides: "End-page conversion banner with gradient and large text"
      exports: ["CTABanner"]
    - path: "components/portfolio/sections/hero-with-gradient.tsx"
      provides: "Hero section with gradient backdrop, outcome-first messaging, dual CTAs, decorative shapes"
      exports: ["HeroWithGradient"]
    - path: "components/portfolio/sections/mid-page-cta.tsx"
      provides: "Mid-page CTA with simple/card/inline variants"
      exports: ["MidPageCTA"]
    - path: "app/(home)/page.tsx"
      provides: "Restructured home page with full conversion flow"
      contains: "HeroWithGradient"
  key_links:
    - from: "app/(home)/page.tsx"
      to: "components/portfolio/sections/hero-with-gradient.tsx"
      via: "import HeroWithGradient"
      pattern: "import.*HeroWithGradient"
    - from: "app/(home)/page.tsx"
      to: "components/portfolio/sections/cta-banner.tsx"
      via: "import CTABanner"
      pattern: "import.*CTABanner"
    - from: "app/(home)/page.tsx"
      to: "components/portfolio/sections/section-background.tsx"
      via: "import SectionBackground"
      pattern: "import.*SectionBackground"
    - from: "components/portfolio/sections/hero-with-gradient.tsx"
      to: "hooks/use-intersection-observer.ts"
      via: "useIntersectionObserver for entrance animation"
      pattern: "useIntersectionObserver"
---

<objective>
Create reusable section layout components and redesign the home page with the complete conversion flow.

Purpose: The home page is the primary entry point and must guide visitors through a deliberate flow: value proposition (hero) -> what's offered (services) -> proof (projects + social proof) -> conversion (CTA banner). This plan creates the foundational section components that all subsequent plans will reuse, then applies them to the highest-impact page first.

Output: Four new section components in components/portfolio/sections/ and a fully restructured home page with gradient hero, alternating section backgrounds, services overview, social proof, testimonials, and end-page CTA banner.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-page-level-integration/13-CONTEXT.md
@.planning/phases/13-page-level-integration/13-RESEARCH.md
@components/portfolio/index.ts
@components/portfolio/hero-section.tsx
@components/portfolio/cta-button.tsx
@components/portfolio/social-proof-display.tsx
@components/portfolio/testimonial-card.tsx
@components/portfolio/project-grid.tsx
@hooks/use-intersection-observer.ts
@app/(home)/page.tsx
@app/globals.css
@components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create section layout components</name>
  <files>
    components/portfolio/sections/section-background.tsx
    components/portfolio/sections/cta-banner.tsx
    components/portfolio/sections/hero-with-gradient.tsx
    components/portfolio/sections/mid-page-cta.tsx
    components/portfolio/index.ts
  </files>
  <action>
Create four new section components in components/portfolio/sections/:

**1. SectionBackground (Server Component - NO "use client")**
- Props: `variant: "gradient" | "neutral" | "muted"`, `children`, `className?`, `id?`
- Standard section padding: `py-3xl px-md` using design tokens
- Inner container: `max-w-7xl mx-auto`
- Background variants:
  - `gradient`: `bg-linear-to-br from-primary/5 via-tech-blue/5 to-primary/5` (subtle brand gradient)
  - `neutral`: `bg-background` (standard background)
  - `muted`: `bg-muted/30` (slightly shaded)
- Use cn() for class merging
- Export interface SectionBackgroundProps

**2. CTABanner (Server Component - NO "use client")**
- Props: `headline: string`, `description: string`, `primaryCta: { text: string; href: string; intent?: "warm" | "primary" }`, `secondaryCta?: { text: string; href: string }`, `className?`
- Full-width gradient background using SectionBackground variant="gradient" (but with stronger gradient: from-primary/10 via-tech-blue/10 to-primary/10)
- Or wrap in its own section with stronger gradient: `bg-linear-to-br from-primary/10 via-tech-blue/8 to-accent/8`
- Decorative geometric shapes: 2 blurred circles (absolute positioned, opacity /5, blur-3xl) for depth
- Content centered in max-w-3xl
- Headline: font-serif text-h2 leading-tight mb-md
- Description: text-lg text-muted-foreground mb-xl
- CTA row: flex gap-md justify-center, primary uses CTAButton with intent prop and asChild wrapping Link, secondary uses Button variant="outline" with asChild wrapping Link
- Import CTAButton from "@/components/portfolio/cta-button" and Button from "@/components/ui/button" and Link from "next/link"
- Export interface CTABannerProps

**3. HeroWithGradient (Client Component - "use client" for animations)**
- Import useIntersectionObserver from hooks
- Bold gradient backdrop: absolute inset-0 div with `bg-linear-to-br from-primary via-tech-blue to-primary opacity-10`
- 2-3 decorative blurred circles for depth (absolute, w-64/w-96, rounded-full, bg-primary/5 or bg-tech-blue/5, blur-3xl, positioned at corners)
- Content wrapper: relative z-10, max-w-4xl mx-auto, text-center
- Entrance animation using useIntersectionObserver: opacity-0 translate-y-5 transitioning to opacity-100 translate-y-0 with duration-[var(--duration-entrance)]
- Outcome-first headline: font-serif text-hero leading-tight mb-md - default text: "Get Your Business Online in 5 Days" (pass as prop `headline?: string`)
- Subheadline prop: `subheadline?: string` - default: "Professional WordPress sites from $500. Fast, mobile-friendly, and built to grow your business."
- Dual CTA: flex gap-md justify-center (stacks on mobile with flex-col sm:flex-row)
  - Primary: CTAButton intent="warm" size="xl" with Link to /services, text "Get Your Business Online" (benefit-focused, NOT "Get Your $500 Site")
  - Secondary: Button variant="outline" size="lg" with Link to /projects, text "See My Work"
- No social proof in hero (per CONTEXT.md decision)
- Section element: relative py-3xl px-md text-center overflow-hidden
- Export interface HeroWithGradientProps

**4. MidPageCTA (Server Component - NO "use client")**
- Props: `variant: "simple" | "card" | "inline"`, `headline: string`, `cta: { text: string; href: string; intent?: "warm" | "primary" }`, `description?: string`, `className?`
- Simple variant: text-center div with headline (font-serif text-h3 mb-md) and CTAButton
- Card variant: Card with p-xl, centered content, slight background (bg-muted/20), headline + description + CTAButton
- Inline variant: flex justify-between items-center with text on left and CTA on right
- Import CTAButton, Card, Link
- Export interface MidPageCTAProps

**Update barrel export** (components/portfolio/index.ts):
- Add exports for all four new section components
- Add type exports for their Props interfaces
- Keep all existing exports unchanged

IMPORTANT implementation notes:
- SectionBackground, CTABanner, and MidPageCTA are Server Components (no "use client"). Only HeroWithGradient needs "use client" for useIntersectionObserver.
- Use Tailwind v4 gradient syntax: `bg-linear-to-br` NOT `bg-gradient-to-br`
- All gradient text must have sufficient contrast. Since gradients are at /5 or /10 opacity on a light/dark background, text contrast is inherited from the theme colors (foreground on background). This is safe.
- Use design token spacing: py-3xl, px-md, gap-md, gap-lg, mb-md, mb-xl etc.
- Decorative shapes: positioned with absolute, use overflow-hidden on parent to prevent scrollbar issues
  </action>
  <verify>
Run `bun run build` from project root. All four new component files should be importable without type errors. The barrel export should resolve all new exports.
  </verify>
  <done>
Four section components exist in components/portfolio/sections/ with correct TypeScript types. SectionBackground wraps sections with consistent padding and backgrounds. CTABanner provides gradient end-page conversion. HeroWithGradient has entrance animation, gradient backdrop, and dual CTAs. MidPageCTA supports three layout variants. Barrel export updated.
  </done>
</task>

<task type="auto">
  <name>Task 2: Restructure home page with complete conversion flow</name>
  <files>
    app/(home)/page.tsx
  </files>
  <action>
Completely rewrite app/(home)/page.tsx to implement the home page conversion flow from CONTEXT.md:

**Home page section order:** Hero -> Services overview -> Featured projects -> Social proof / testimonials -> CTA banner

The page remains "use client" because it uses useQuery from convex/react for project data. However, push Client Component boundaries down where possible.

**Section 1: Hero**
- Replace old HeroSection with HeroWithGradient
- No props needed (defaults match CONTEXT.md decisions)

**Section 2: Services Overview (gradient background)**
- Wrap in SectionBackground variant="gradient"
- Heading: font-serif text-h2 leading-tight text-center mb-xs - "What I Offer"
- Subtext: text-muted-foreground text-center mb-xl - "The right solution for your business, from quick sites to custom apps."
- 3-column grid (grid-cols-1 md:grid-cols-3 gap-lg) with service cards:
  - Card 1: "$500 WordPress Sites" - "Get online in 5 business days with a professional, mobile-friendly site built to attract local customers." Icon or emoji optional.
  - Card 2: "Custom Web Applications" - "Tailored solutions with modern tech for businesses with unique needs that off-the-shelf can't solve."
  - Card 3: "Team Growth Mentoring" - "Help your developers level up with code review, architecture guidance, and engineering culture coaching."
- Each service card: Card component with elevation="sm", p-lg, centered text
  - h3 font-semibold text-lg mb-sm
  - p text-sm text-muted-foreground
- Below grid: centered Link to /services with text "View Pricing & Details" using Button variant="link" (or just a styled link)
- Apply scroll entrance animation using useIntersectionObserver on the section content

**Section 3: Featured Projects (neutral background)**
- Wrap in SectionBackground variant="neutral"
- Heading: font-serif text-h2 leading-tight text-center mb-xs - "Recent Work"
- Subtext: text-muted-foreground text-center mb-xl - "A selection of projects showcasing my approach"
- Reuse ProjectGrid component with projects data from useQuery(api.projects.list)
- Limit to first 3 projects: `(projects ?? []).slice(0, 3)` for featured display
- Below grid: MidPageCTA variant="simple" with headline "Like What You See?" and CTA text "Start Your Project" linking to /services, intent="warm"

**Section 4: Social Proof / Testimonials (muted background)**
- Wrap in SectionBackground variant="muted"
- Use SocialProofDisplay with metrics:
  - { value: "18+", label: "Years Web Development" }
  - { value: "5 Days", label: "Average WordPress Delivery" }
  - { value: "100%", label: "Client Satisfaction" }
- Below metrics, add testimonial section:
  - Heading: font-serif text-h3 leading-snug text-center mt-2xl mb-lg - "What Clients Say"
  - Use TestimonialCard components in a grid (grid-cols-1 md:grid-cols-2 gap-lg)
  - Use placeholder testimonial data (2 testimonials):
    - { quote: "Jon delivered our website ahead of schedule and it looks incredible. Our phone started ringing the week we launched.", name: "Sarah Mitchell", title: "Owner", company: "Northern Lights Bakery" }
    - { quote: "Finally, a developer who speaks plain English. Jon explained everything clearly and the site does exactly what we need.", name: "Marcus Chen", title: "Manager", company: "Anchorage Auto Detail" }
  - Note: These are placeholder testimonials. Real testimonials should be added via admin or data layer later.

**Section 5: End-Page CTA Banner**
- CTABanner component with:
  - headline: "Let's Build Something Great Together"
  - description: "Whether you need a quick WordPress site or a custom solution, I'll help you get online and start growing."
  - primaryCta: { text: "Get Your Business Online", href: "/services", intent: "warm" }
  - secondaryCta: { text: "See My Work", href: "/projects" }

**Keep:** LocalBusinessSchema at the bottom of the page (before closing main tag).

**Remove:** The old HeroSection import (replaced by HeroWithGradient). Remove direct import of HeroSection.

**Scroll animations:** Use multiple useIntersectionObserver instances for each section, or use a single one per section wrapper. Each major content block should fade-in-up on scroll. Use the stagger pattern from Phase 12 for grid items.

IMPORTANT:
- Keep "use client" directive at top (needed for useQuery)
- Import useQuery from "convex/react" and api from "@/convex/_generated/api"
- Import new section components from "@/components/portfolio/sections/..." (direct imports, not from barrel, to keep tree-shaking clean for client components)
- Import SocialProofDisplay and TestimonialCard from "@/components/portfolio"
- Import ProjectGrid from "@/components/portfolio/project-grid"
- Import Card from "@/components/ui/card" for service cards
- Import Link from "next/link", Button from "@/components/ui/button"
- Import cn from "@/lib/utils" and useIntersectionObserver from hooks
  </action>
  <verify>
Run `bun run build` from project root. The home page should compile without errors. Run `bun run dev` and verify at http://localhost:3400 that:
1. Hero shows gradient backdrop with "Get Your Business Online in 5 Days" headline and dual CTAs
2. Services overview shows 3 cards in a grid with gradient background
3. Featured projects show first 3 projects with mid-page CTA
4. Social proof metrics and testimonials display correctly
5. End-page CTA banner has gradient background and benefit-focused copy
  </verify>
  <done>
Home page displays five distinct sections following the conversion flow: Hero (gradient + dual CTA) -> Services overview (gradient bg, 3 cards) -> Featured projects (neutral bg, 3 projects + mid-page CTA) -> Social proof with testimonials (muted bg) -> CTA banner (gradient + decorative shapes). All sections animate on scroll entry. Benefit-focused CTA copy used throughout.
  </done>
</task>

</tasks>

<verification>
- `bun run build` completes without errors
- All four section components export correctly from barrel
- Home page renders 5 sections with correct visual hierarchy
- Hero has gradient backdrop, dual CTAs with benefit-focused copy
- Alternating section backgrounds create visual rhythm (gradient -> neutral -> muted -> gradient)
- CTABanner shows at end with gradient background and decorative shapes
- No "use client" on server components (SectionBackground, CTABanner, MidPageCTA)
- All spacing uses design tokens (py-3xl, px-md, gap-lg, etc.)
</verification>

<success_criteria>
1. HeroWithGradient shows outcome-first value proposition with gradient backdrop and entrance animation
2. Home page follows Hero -> Services -> Projects -> Social Proof -> CTA Banner flow
3. SectionBackground provides consistent py-3xl padding and max-w-7xl centering with 3 background variants
4. CTABanner provides full-width gradient conversion point with decorative shapes
5. MidPageCTA works in simple, card, and inline variants
6. All CTA copy is benefit-focused ("Get Your Business Online" not "Book Your $500 Site")
7. Build passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/13-page-level-integration/13-01-SUMMARY.md`
</output>
