---
phase: 13-page-level-integration
plan: 03
type: execute
wave: 2
depends_on: ["13-01"]
files_modified:
  - app/projects/page.tsx
  - app/projects/[slug]/page.tsx
autonomous: false

must_haves:
  truths:
    - "Projects index page has consistent section treatment with lighter CTA presence"
    - "Project detail pages present work in case study format with challenge/approach/impact narrative"
    - "Visual hierarchy on project pages guides attention through a deliberate flow"
    - "All project pages use brand typography, section backgrounds, and design token spacing"
  artifacts:
    - path: "app/projects/page.tsx"
      provides: "Enhanced projects index with consistent section treatment and subtle CTA"
      contains: "SectionBackground"
    - path: "app/projects/[slug]/page.tsx"
      provides: "Project detail with case study format using CaseStudyVisual"
      contains: "CaseStudyVisual"
  key_links:
    - from: "app/projects/[slug]/page.tsx"
      to: "components/portfolio/case-study-visual.tsx"
      via: "import CaseStudyVisual for case study format"
      pattern: "import.*CaseStudyVisual"
    - from: "app/projects/page.tsx"
      to: "components/portfolio/sections/section-background.tsx"
      via: "import SectionBackground"
      pattern: "import.*SectionBackground"
    - from: "app/projects/[slug]/page.tsx"
      to: "components/portfolio/sections/cta-banner.tsx"
      via: "import CTABanner for end-page conversion"
      pattern: "CTABanner"
---

<objective>
Enhance project pages with case study format and consistent visual treatment, then verify all pages site-wide.

Purpose: Project detail pages are the proof that backs up the hero's promise. Presenting work in challenge/approach/impact format signals deeper thinking than a simple portfolio grid. The projects index gets lighter treatment (per CONTEXT.md). This plan completes the page-level integration and includes a visual verification checkpoint.

Output: Enhanced projects index with section backgrounds, project detail pages with case study format, and verified visual consistency across all public pages.
</objective>

<execution_context>
@C:\Users\jonge\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\jonge\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/13-page-level-integration/13-CONTEXT.md
@.planning/phases/13-page-level-integration/13-RESEARCH.md
@.planning/phases/13-page-level-integration/13-01-SUMMARY.md
@app/projects/page.tsx
@app/projects/[slug]/page.tsx
@components/portfolio/case-study-visual.tsx
@components/portfolio/project-card-enhanced.tsx
@components/portfolio/project-grid.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance projects index and detail pages</name>
  <files>
    app/projects/page.tsx
    app/projects/[slug]/page.tsx
  </files>
  <action>
**Projects Index (app/projects/page.tsx):**

The page stays "use client" (uses useQuery, nuqs query state, useMemo, Suspense).

Enhancements (lighter treatment per CONTEXT.md):

1. Wrap the page content in SectionBackground components for consistent treatment:
   - Hero area (h1 + description): SectionBackground variant="neutral"
   - Filter + grid area: SectionBackground variant="muted" (gives slight contrast)

2. Update heading copy: Keep "All Projects" but improve subtext to "Browse my portfolio of web development and custom application work." (more professional than "indie projects")

3. After the ProjectGrid, add a subtle CTA (lighter presence):
   - A simple centered block with mt-2xl:
   - p text-muted-foreground text-center - "Have a project in mind?"
   - Link to /contact with Button variant="outline" size="lg" text "Let's Talk"
   - This is deliberately minimal - Projects page is for browsing, not hard-selling

4. Import SectionBackground from sections. Keep all existing functionality (filters, sorting, Suspense).

5. Ensure the page uses consistent max-w-7xl centering (already does via SectionBackground inner container). If SectionBackground adds its own max-w-7xl, adjust the current manual max-w-7xl to avoid nesting.

**Project Detail (app/projects/[slug]/page.tsx):**

This page is a Server Component (uses fetchQuery, generateMetadata, generateStaticParams). Keep it as Server Component.

Major enhancements:

1. Add case study format using CaseStudyVisual component:
   - After the project header (name + description + status badge), before the tech stack
   - Since project data comes from Convex and may not have case study fields yet, use conditional rendering:
     - If project has `descriptionLong`, derive case study sections from it
     - For now, add a static case study section that demonstrates the format
     - Create case study data based on available project info:
       ```
       problem: {
         heading: "The Challenge",
         content: project.descriptionLong || project.description
       }
       solution: {
         heading: "The Approach",
         content: "Built with a modern tech stack focused on performance, maintainability, and great user experience."
       }
       results: {
         heading: "The Result",
         content: "A polished application that demonstrates professional web development capabilities.",
         metrics: project.techStack.slice(0, 3).map(tech => `Built with ${tech}`)
       }
       ```
   - Note: This is a reasonable placeholder that uses real project data. A future enhancement could add dedicated case study fields to the Convex schema.

2. Wrap page sections in proper background treatment:
   - Back navigation + hero image: neutral background (SectionBackground variant="neutral")
   - Case study section: gradient background (SectionBackground variant="gradient")
   - Tech stack section: neutral background
   - Links section: neutral background

3. Update the layout structure:
   - Hero image: keep the existing responsive aspect-video image with shadow-lg
   - Project header: keep name, description, status badge
   - NEW: CaseStudyVisual section after header
   - Tech stack: keep existing badge display
   - Links: keep existing external links
   - NEW: End-page CTA - Add a simple CTA block at the bottom (NOT full CTABanner, lighter treatment):
     - After the links section, add a centered block:
     - p text-muted-foreground text-center mt-2xl - "Interested in working together?"
     - Flex row with Link to /services wrapping CTAButton intent="warm" text "Get Your Business Online" + Link to /contact wrapping Button variant="outline" text "Get in Touch"

4. Import CaseStudyVisual from "@/components/portfolio/case-study-visual"
   Import SectionBackground from "@/components/portfolio/sections/section-background"
   Import CTAButton from "@/components/portfolio/cta-button"
   Import Button from "@/components/ui/button" (already imported)

5. Improve typography:
   - Ensure h1 uses font-serif text-h1 (already does)
   - Ensure h2 uses font-serif text-h2 (already does for Tech Stack)
   - Back link: keep existing styling

IMPORTANT:
- Project detail is a Server Component (no "use client"). SectionBackground and CaseStudyVisual are also Server Components, so this works perfectly.
- Do NOT add "use client" to the project detail page.
- The case study content is derived from existing project data fields - no schema changes needed.
- Keep generateMetadata and generateStaticParams functions unchanged.
- Use Tailwind v4 gradient syntax (bg-linear-to-br) in any custom classes.
  </action>
  <verify>
Run `bun run build`. Both pages compile without errors. Run `bun run dev` and check:

Projects index (http://localhost:3400/projects):
1. Consistent section backgrounds (neutral hero, muted grid area)
2. Filters and sorting still work
3. Subtle CTA at bottom ("Have a project in mind?")

Project detail (http://localhost:3400/projects/[any-slug]):
1. Case study section shows Challenge/Approach/Impact cards on gradient background
2. Tech stack displays correctly
3. External links work
4. Subtle CTA at bottom with dual buttons
5. Page is Server Component (check: no hydration scripts for the main content)
  </verify>
  <done>
Projects index has consistent section treatment with lighter CTA. Project detail pages present work in case study format with CaseStudyVisual component on gradient background. Both pages use design tokens and brand typography. End-page CTAs are lighter (not full CTABanner) per CONTEXT.md guidance.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete page-level integration across all public pages: home (hero + 5 sections), services (pricing-first + dual CTAs), about (process-focus), projects index (lighter treatment), project detail (case study format), and contact (visual polish). All pages use section background components, benefit-focused CTA copy, and visual hierarchy with alternating gradient/neutral/muted backgrounds.</what-built>
  <how-to-verify>
Run `bun run dev` and verify each page at http://localhost:3400:

**Home page (/):**
1. Hero has gradient backdrop with decorative shapes and "Get Your Business Online in 5 Days" headline
2. Dual CTAs: warm amber "Get Your Business Online" + outline "See My Work"
3. Services overview on gradient background (3 cards)
4. Featured projects on neutral background (3 projects + mid-page CTA)
5. Social proof metrics + testimonials on muted background
6. Full CTABanner at bottom with gradient
7. Sections animate in on scroll

**Services page (/services):**
8. Pricing cards on gradient background with updated benefit-focused copy
9. WordPress CTA is warm/amber, custom inquiry CTAs are blue outline
10. "What Every WordPress Site Includes" section
11. FAQ on muted background
12. SocialProofDisplay trust metrics
13. CTABanner at bottom

**About page (/about):**
14. "How I Work" heading with process-focused intro
15. 4-step process grid on gradient background
16. "What You Can Expect" values cards on neutral background
17. Brief background on muted background
18. Lighter CTA at end (not full banner)

**Projects index (/projects):**
19. Consistent section backgrounds
20. Filters still work
21. Subtle CTA at bottom

**Project detail (/projects/[slug]):**
22. Case study Challenge/Approach/Impact cards on gradient background
23. Tech stack and links preserved
24. Subtle CTA at bottom

**Cross-page checks:**
25. Toggle dark mode - all gradients and backgrounds work in both themes
26. Resize to mobile width - all sections stack properly, CTAs are tappable
27. Check that no page has broken layout or overlapping content
28. Scroll through each page - entrance animations trigger correctly
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 13, or describe specific issues to fix.</resume-signal>
</task>

</tasks>

<verification>
- `bun run build` completes without errors
- Project detail uses CaseStudyVisual with Challenge/Approach/Impact format
- Projects index has lighter CTA treatment (subtle, not full banner)
- Project detail is a Server Component (no "use client")
- All pages verified visually by human across light/dark mode and mobile
- No broken layouts, missing content, or contrast issues
</verification>

<success_criteria>
1. Projects index has consistent section backgrounds with lighter CTA presence
2. Project detail uses CaseStudyVisual component for case study narrative format
3. Project detail remains a Server Component (no "use client" added)
4. All public pages verified: gradient backgrounds work in light and dark mode
5. Mobile responsive: all sections stack properly on narrow viewports
6. Build passes with zero errors
7. Human verification confirms visual quality across all pages
</success_criteria>

<output>
After completion, create `.planning/phases/13-page-level-integration/13-03-SUMMARY.md`
</output>
