# Milestone v1.2: Content Layer + Launch

**Status:** SHIPPED 2026-02-07
**Phases:** 15-19
**Total Plans:** 13

## Overview

The site gains a complete content management system for blog posts and case studies, replacing placeholder data with dynamic content from Convex. Every project showcases real case studies, the blog serves dual audiences (local businesses and technical readers), and the site is production-ready for SEO-driven growth.

## Phases

### Phase 15: Content Schema + Backend

**Goal**: Blog posts and case studies have complete backend infrastructure in Convex with queries, mutations, indexes, and auth checks ready for admin UI integration.
**Depends on**: v1.1 Phase 14 (shipped)
**Requirements**: BLOG-01, BLOG-03, BLOG-04, BLOG-05, BLOG-06, BLOG-08, CASE-01, CASE-02, CASE-03
**Plans**: 2 plans

Plans:

- [x] 15-01: Schema definitions + dependency installation
- [x] 15-02: Blog posts and case studies Convex modules

**Details:**
- New Convex tables: `blogPosts`, `caseStudies` (following existing projects table pattern)
- Schema fields: blogPosts (title, slug, excerpt, content, coverImageId, authorId, status, publishedAt, category, displayOrder), caseStudies (projectId, problemHeading/Content, solutionHeading/Content, resultsHeading/Content, metrics array)
- Server-side slug generation with slugify library, uniqueness enforced via Convex index
- Convex storage integration for blog cover images (generateUploadUrl pattern)
- Category enum: Local Business, Technical, Announcement
- Auth checks on all mutations (getAuthUserId)
- Queries: list (with status filter), getBySlug, getByProject (case studies)

### Phase 16: Admin Content Management

**Goal**: Admin dashboard has complete CRUD interfaces for blog posts and case studies with markdown editing, live preview, drag-to-reorder, and image upload.
**Depends on**: Phase 15
**Requirements**: BLOG-02, BLOG-07, CASE-04, CASE-05, DEBT-02
**Plans**: 3 plans

Plans:

- [x] 16-01: Shared infrastructure (MarkdownEditor, AdminTabs, ImageUploadZone, Calendly extraction)
- [x] 16-02: Blog post admin (list, form, create/edit pages)
- [x] 16-03: Case study admin (list, form, create/edit pages)

**Details:**
- New admin tabs: Blog, Case Studies (following existing Projects tab pattern)
- Markdown editor: @uiw/react-md-editor with live preview (admin-only, code-split)
- Drag-to-reorder: replicate existing SortableProjectList pattern using dnd-kit
- Image upload: file input with preview, Convex generateUploadUrl
- Delete confirmation: AlertDialog with destructive action
- Extract NEXT_PUBLIC_CALENDLY_URL to .env.local and site-config.ts
- AdminTabs component updated with 2 new tabs

### Phase 17: Public Blog Pages

**Goal**: Users can discover and read blog posts with category filtering, server-side markdown rendering, syntax highlighting, pagination, and complete SEO metadata.
**Depends on**: Phase 15
**Requirements**: BLOG-09, BLOG-10, BLOG-11, BLOG-12, BLOG-13
**Plans**: 2 plans

Plans:

- [x] 17-01: Blog list page (deps, prose CSS, cards, filtering, pagination)
- [x] 17-02: Blog detail page (markdown rendering, OG images, JSON-LD, sitemap, nav link)

**Details:**
- New routes: app/blog/page.tsx (list), app/blog/[slug]/page.tsx (detail)
- Server-side markdown rendering: react-markdown + remark-gfm + rehype-highlight
- Selective language imports for syntax highlighting (JS, TS, CSS, Bash only)
- Client-side pagination via nuqs URL state (NOT Convex .paginate())
- BlogPostCard component with cover image, excerpt, category badge, read time
- BlogPostContent component with prose styling (custom, no @tailwindcss/typography)
- Category filter: URL param with client-side filtering
- Draft check in query: status === "published" filter
- generateMetadata() with dynamic OG image (next/og ImageResponse)
- JSON-LD Article schema with author, publishedAt, category

### Phase 18: Content Integration

**Goal**: All existing pages display real case study and blog data from Convex, replacing every hardcoded placeholder with dynamic queries.
**Depends on**: Phase 15, Phase 16, Phase 17
**Requirements**: CASE-06, CASE-07
**Plans**: 3 plans

Plans:

- [x] 18-01: Testimonials backend (schema, queries, seed mutation)
- [x] 18-02: Project detail case study integration (dynamic query with fallback)
- [x] 18-03: Home page blog section + dynamic testimonials + cleanup

**Details:**
- New Convex table: `testimonials` (lightweight, no status/publishedAt)
- Idempotent seed mutation for initial testimonial data
- Project detail pages: case study query with smart fallback
- Home page: "Insights & Updates" blog section (3 latest posts), dynamic testimonials
- CaseStudyVisual receives dynamic props from Convex queries
- Metrics transformation: {label, value} objects to "Label: Value" strings

### Phase 19: Launch Prep + Tech Debt

**Goal**: Site is production-ready with complete SEO/AEO configuration, analytics, default OG image, and all technical debt from v1.1 audit resolved.
**Depends on**: Phase 18
**Requirements**: LNCH-01, LNCH-02, LNCH-03, DEBT-01
**Plans**: 3 plans

Plans:

- [x] 19-01: Default OG image + SEO configuration (robots.ts, layout metadata)
- [x] 19-02: GA4 custom event tracking (analytics lib, CTA/form wiring)
- [x] 19-03: Tech debt cleanup + launch verification (orphan removal, Lighthouse audit)

**Details:**
- Default OG image (1200x630) with blue gradient branding, consistent with blog post OG
- GA4 event tracking on all conversion points (CTA clicks, form submissions, Calendly bookings)
- Blog engagement tracking (category filtering, read completion via intersection observer)
- Robots.txt allows all public routes, only /admin/ disallowed
- Orphaned HeroSection component deleted
- Core Web Vitals verified: LCP 168ms, CLS 0, INP 24ms

---

## Milestone Summary

**Key Decisions:**

- Optional cover images for drafts, validated on publish
- Category-based blog organization (3 fixed categories)
- Single markdown editor with section dividers for case studies
- Client-side filtering and pagination for blog list
- Custom prose styles instead of @tailwindcss/typography plugin
- github-dark syntax theme for both light and dark modes
- Lightweight testimonials table (no status/publishedAt)
- Display only first case study per project
- Blog section hidden when no posts (prevents layout shift)
- Track CTA clicks with optional trackingName prop
- Track form submit only after successful submission

**Issues Resolved:**

- All hardcoded placeholder content replaced with dynamic Convex queries
- Orphaned HeroSection component removed
- Calendly URL extracted from hardcoded values to env variable
- Default OG image configured for consistent social sharing

**Issues Deferred:**

- Public /case-studies index page (backend ready, no frontend route)
- Admin UI for unpublish/restore mutations (callable via Convex dashboard)
- Admin CRUD for testimonials (managed via Convex dashboard + seed mutation)
- Auto-generated OG images per blog post (deferred to future milestone)
- RSS feed for blog posts
- Per-post SEO metadata enhancements

**Technical Debt Incurred:**

- Testimonials seed mutation requires manual Convex dashboard execution
- 4 backend functions without UI consumers (unpublish x2, restore x2)
- Pre-existing lint warnings in useIntersectionObserver (false positive from v1.1)

**Phase Coverage:**

| Phase | Requirements Covered | Count |
|-------|---------------------|-------|
| 15. Content Schema + Backend | BLOG-01, BLOG-03, BLOG-04, BLOG-05, BLOG-06, BLOG-08, CASE-01, CASE-02, CASE-03 | 9 |
| 16. Admin Content Management | BLOG-02, BLOG-07, CASE-04, CASE-05, DEBT-02 | 5 |
| 17. Public Blog Pages | BLOG-09, BLOG-10, BLOG-11, BLOG-12, BLOG-13 | 5 |
| 18. Content Integration | CASE-06, CASE-07 | 2 |
| 19. Launch Prep + Tech Debt | LNCH-01, LNCH-02, LNCH-03, DEBT-01 | 4 |

**Total:** 25/25 requirements (100% coverage)

**Dependencies Added:**

- react-markdown ^10.1.0 (~20KB)
- remark-gfm ^4.0.0 (~5KB)
- rehype-highlight ^7.0.0 (~8KB)
- @uiw/react-md-editor ^4.0.11 (~4.6KB, admin-only)
- slugify ^1.6.6 (~2KB)
- dayjs ^1.11.13 (~6KB)

---

_Archived: 2026-02-07 as part of v1.2 milestone completion_
